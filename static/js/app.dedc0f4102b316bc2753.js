webpackJsonp([2],{144:function(e,t,n){"use strict";function a(e,t){e=e||[];var n=[];return e.forEach(function(e){e.language&&n.push({language:e.language,label:e.label||t})}),i.languages.forEach(function(e){n.find(function(t){return t.language===e.id})||n.push({language:e.id,label:t})}),n}t.a=a;var i=n(29);n.n(i)},149:function(e,t,n){"use strict";var a=n(212),i=n.n(a),o=n(78),r=n.n(o),s=n(150),l=n.n(s),c=n(215),u=n.n(c),d=n(214),f=n.n(d),p=n(209),h=function(e){function t(e,n){r()(this,t);var a=u()(this,(t.__proto__||i()(t)).call(this,e));a.originalId=e.id,a.active=!!e.active;var o=function(e,t){return e.find(function(e){return e.originalId===t})},s=e.layers&&e.layers.map(function(e){return o(n,e)}).filter(function(e){return!!e});return a.layers=s||[],a.inlineLegendUrl=e.inlineLegendUrl||null,a.opacity=e.opacity||1,a}return f()(t,e),l()(t,[{key:"legend",value:function(e){return this.layers.map(function(t){var n=null;if(t.legend)if("wms"===t.legend.type){var a=t.legend.style.replace("$(_lang)",e);n=t.serverUrls[0]+"?LEGEND_OPTIONS=fontColor:ffffff;fontAntiAliasing:true\n&LAYER="+t.name+"&STYLE="+a+"&REQUEST=GetLegendGraphic&VERSION=1.0.0&FORMAT=image/png&WIDTH=18&HEIGHT=18&TRANSPARENT=true"}else n=t.legend.url;else if(t.styles){var i=t.styles.find(function(t){return t.language===e}),o=i?i.label:null;n=t.serverUrls[0]+"?LEGEND_OPTIONS=fontColor:ffffff;fontAntiAliasing:true\n&LAYER="+t.name+"&STYLE="+o+"&REQUEST=GetLegendGraphic&VERSION=1.0.0&FORMAT=image/png&WIDTH=18&HEIGHT=18&TRANSPARENT=true"}return n}).filter(function(e){return e})}},{key:"hasLegends",get:function(){return this.layers.some(function(e){return e.legend||e.styles&&e.styles.some(function(e){return e.label})})}}]),t}(p.a);t.a=h},201:function(e,t,n){function a(e){n(440)}var i=n(12)(n(372),n(597),a,"data-v-1cad8fba",null);e.exports=i.exports},202:function(e,t,n){"use strict";function a(){return new m.a(function(e,t){var a=C.layersConfigApi.baseUrl+C.layersConfigApi.getLayersConfigUrl;n.i(w.a)("GET",a).then(function(t){return e(new T(JSON.parse(t)))}).catch(function(e){return t(e.statusText||e.message)})})}function i(e,t){var n=e.recReduce(function(e,t){return e.concat(t)},[]),a=e.recReduce(function(e,t){return[].concat.apply(e,t.layers)},[]);a=t.map(function(e){return a.find(function(t){return t.id===e})}).filter(function(e){return e});var i=function(e,t){switch(e){case"originalId":case"urls":case"opacity":return;case"serverUrls":return t||void 0;case"legend":case"sourceLink":case"sourceLabel":return t||void 0;case"times":var n=t.map(function(e){return e.iso8601});return n&&n.length?n:void 0;case"styles":var a=t.map(function(e){return e.label?e:null}).filter(function(e){return!!e});return a.length?a:void 0;default:return t}},o=JSON.parse(h()(a,i)),r=function(e,t){switch(e){case"layers":return t.length?t.map(function(e){return e.id}):void 0;case"inlineLegendUrl":case"infoFile":return t||void 0;case"parent":case"hasLegends":case"times":case"originalId":return;default:return t}},s=JSON.parse(h()(n,r)),l=function(e,t){switch(e){case"":return{exclusive:t.exclusive,items:t.items};case"id":case"parent":return;case"infoFile":return t||void 0;case"items":if(0===t.length)return;return t.map(function(e){return e.isGroup?{group:e}:{context:e.id}});default:return t}},c=JSON.parse(h()(e,l)),u={$schema:"../../layersJsonSchema_v2.json",layers:o,contexts:s,group:c};return h()(u)}function o(e,t){var a=C.layersConfigApi.baseUrl+C.layersConfigApi.saveLayersConfigUrl;return n.i(w.a)("POST",a,i(e,t),[["Content-Type","application/json"],["Authorization",b.a.getAuthToken()]])}function r(){return new m.a(function(e,t){var a=C.layersConfigApi.baseUrl+C.layersConfigApi.getLayersConfigHistoryUrl;n.i(w.a)("GET",a,null,[["Authorization",b.a.getAuthToken()]]).then(function(t){return e(JSON.parse(t))}).catch(function(e){return t(e)})})}function s(e){var t=C.layersConfigApi.baseUrl+C.layersConfigApi.restoreVersionUrl+"?version="+e;return n.i(w.a)("GET",t,null,[["Authorization",b.a.getAuthToken()]])}function l(e,t,n,a){var i=[1128,2256,4513,9027,18055,36111,72223,144447,288895,577790,1155581,2311162,4622324,9244649,18489298,36978596,73957193,147914387,295828775,591657550],o=Math.round(39.37*90*S.a.getView().getResolution()),r=i.find(function(e){return e>=o})||i.slice(-1)[0];E.a.pages[0].center=S.a.getView().getCenter(),E.a.pages[0].scale=r;var s=e.filter(function(e){return!!e.visible});if(s.length){var l=s.reduce(function(e,t){switch(t.type){case"osm":case"bing-aerial":case"google":case"esri":return e.push([t]),e;case"wms":e.length||e.push([]);var n=e[e.length-1];return!n.length||"wms"===n[0].type&&n[0].serverUrls[0]!==t.serverUrls[0]?(n.unshift(t),e):(e.push([t]),e)}},[]);l=[].concat.apply([],l);var c={maxExtent:[-20037508.3392,-20037508.3392,20037508.3392,20037508.3392],tileSize:[256,256],resolutions:[156543.0339,78271.51695,39135.758475,19567.8792375,9783.93961875,4891.969809375,2445.9849046875,1222.99245234375,611.496226171875,305.7481130859375,152.87405654296876,76.43702827148438,38.21851413574219,19.109257067871095,9.554628533935547,4.777314266967774,2.388657133483887,1.1943285667419434,.5971642833709717],singleTile:!1},d=function(e){return e&&e.startsWith("/")?C.map.defaultGeoServerURLs[0]:e};E.a.layers=l.map(function(e){if(!e.visible)return null;switch(e.type){case"wms":return{type:"wms",layers:[e.name],baseURL:d(e.serverUrls[0]),format:e.imageFormat};case"osm":return f()({},c,{type:"OSM",baseURL:"http://a.tile.openstreetmap.org/",extension:"png"});case"esri":return f()({},c,{type:"XYZ",baseURL:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile",extension:"jpg",path_format:"/${z}/${y}/${x}"});default:return null}}).filter(function(e){return!!e}),a&&(E.a.layers=[].concat(u()(E.a.layers),[{type:"Vector",name:"Annotations",opacity:1,styleProperty:"vector_style",styles:{},geoJson:a}]));var p=[];return E.a.legends=t.forEach(function(e){var t=e.labels.find(function(e){return e.language===n}).label;if(e.inlineLegendUrl)p.push({classes:[{icons:[e.inlineLegendUrl],name:""}],name:t});else if(e.hasLegends){var a={classes:[],name:t};e.layers.forEach(function(e){if(e.legend)switch(e.legend.type){case"url":e.legend.url.startsWith("http://")||e.legend.url.startsWith("https://")?a.classes.push({icons:[e.legend.url],name:""}):a.classes.push({icons:[window.location.origin+window.location.pathname+e.legend.url],name:""});break;case"wms":var t=void 0;if(e.legend)t=e.legend.style.replace("$(_lang)",n);else if(e.styles){var i=e.styles.find(function(e){return e.language===n});t=i?i.label:null}var o=d(e.serverUrls[0])+"?LEGEND_OPTIONS=fontColor:000000;fontAntiAliasing:true&LAYER="+e.name+"&STYLE="+t+"&REQUEST=GetLegendGraphic&VERSION=1.0.0&FORMAT=image/png&WIDTH=18&HEIGHT=18&TRANSPARENT=true";a.classes.push({icons:[o],name:""});break;default:return}}),p.push(a)}}),E.a.legends=p.filter(function(e){return!!e}),E.a}}t.d=a,t.b=o,t.a=r,t.e=s,t.c=l;var c=n(216),u=n.n(c),d=n(41),f=n.n(d),p=n(115),h=n.n(p),v=n(93),m=n.n(v),g=n(78),y=n.n(g),w=n(75),b=n(77),_=n(311),x=n(149),k=n(208),C=n(29),L=(n.n(C),n(616)),E=n.n(L),S=n(58),T=function e(t){var n=this;y()(this,e);var a=t.layers.map(function(e){return new _.a(e)}),i=t.contexts.map(function(e){return new x.a(e,a)});this.groups=new k.a(t.group,i,null),this.contexts=i.filter(function(e){return n.groups.findById(e.id)}),this.layers=a.filter(function(e){return n.contexts.some(function(t){return-1!==t.layers.indexOf(e)})}),this.contexts.forEach(function(e){e.layers.forEach(function(t){t.opacity=e.opacity})})}},207:function(e,t,n){"use strict";function a(e){return!!e&&Array===e.constructor}var i=n(94),o=n.n(i),r=n(93),s=n.n(r),l=n(210),c=n.n(l),u=n(75),d={state:{locale:null,fallback:null,translations:{}},mutations:{SET_LOCALE:function(e,t){var n=t.locale;e.locale=n},ADD_LOCALE:function(e,t){var n=t.locale,a=t.translations;e.translations[n]=f(a);try{e.translations.__ob__&&e.translations.__ob__.dep.notify()}catch(e){}},REMOVE_LOCALE:function(e,t){var n=t.locale;if(e.translations.hasOwnProperty(n)){e.locale===n&&(e.locale=null);var a=c()({},e.translations);delete a[n],e.translations=a}},SET_FALLBACK_LOCALE:function(e,t){var n=t.locale;e.fallback=n}},actions:{setLocale:function(e,t){e.commit({type:"SET_LOCALE",locale:t.locale})},addLocale:function(e,t){var n=t.locale,a=t.translations;e.commit({type:"ADD_LOCALE",locale:n,translations:a})},loadLocale:function(e,t){var a=e.dispatch,i=t.locale,o=t.url;return n.i(u.a)("GET",o).then(function(e){return a("addLocale",{locale:i,translations:JSON.parse(e)}),s.a.resolve()}).catch(function(e){return s.a.reject(e)})},removeLocale:function(e,t){var n=t.locale,a=t.translations;e.commit({type:"REMOVE_LOCALE",locale:n,translations:a})},setFallbackLocale:function(e,t){var n=t.locale;e.commit({type:"SET_FALLBACK_LOCALE",locale:n})}}},f=function e(t){var n={};for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];if(a(r))r.find(function(e){return"string"!=typeof e})&&console.warn("i18n:","currently only arrays of strings are supported",r),n[i]=r;else if("object"===(void 0===r?"undefined":o()(r))&&null!==r){var s=e(r);for(var l in s)s.hasOwnProperty(l)&&(n[i+"."+l]=s[l])}else n[i]=r}return n};t.a=d},208:function(e,t,n){"use strict";var a=n(212),i=n.n(a),o=n(78),r=n.n(o),s=n(215),l=n.n(s),c=n(214),u=n.n(c),d=n(209),f=n(149),p=function(e){function t(e,n,a){r()(this,t);var o=l()(this,(t.__proto__||i()(t)).call(this,e));return o.parent=a,o.exclusive=!!e.exclusive,e.exclusive&&(void 0===e.allowDisableAll?o.allowDisableAll=!0:o.allowDisableAll=!!e.allowDisableAll),o.items=(e.items||[]).map(function(e){if(void 0!==e.context){var a=n.find(function(t){return t.originalId===e.context})||new f.a({id:e.context,label:e.context});return a.parent=o,a}return e.group&&new t(e.group,n,o)}),o}return u()(t,e),t}(d.a);t.a=p},209:function(e,t,n){"use strict";var a=n(78),i=n.n(a),o=n(150),r=n.n(o),s=n(144),l=function(){function e(t){i()(this,e),this.id=e.nextId++,this.infoFile=t.infoFile||null,this.labels=n.i(s.a)(t.labels)}return r()(e,[{key:"recReduce",value:function(e,t){return this.items.reduce(function(t,n){return n.isGroup?n.recReduce(e,t):e(t,n)},t)}},{key:"findById",value:function(e){return this.id===e?this:this.isGroup&&this.items.reduce(function(t,n){return t||n.findById(e)},null)}},{key:"isGroup",get:function(){return!!this.items}}]),e}();l.nextId=0,t.a=l},29:function(e,t){e.exports=globalConf},306:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(116),i=n.n(a),o=n(577),r=n.n(o),s=n(337),l=n(57),c=n.n(l),u=n(576),d=n.n(u),f=n(77),p=n(335),h=n(29),v=(n.n(h),function(){var e={};return window.location.search.substring(1).split("&").map(function(e){return e.split("=")}).forEach(function(t){var n=i()(t,2),a=n[0],o=n[1];e[a]?"string"==typeof e[a]?e[a]=[e[a],decodeURIComponent(o)]:e[a].push(decodeURIComponent(o)):e[a]=decodeURIComponent(o)}),e}());c.a.use(d.a,{dialog:!0,dynamic:!0,injectModalsContainer:!0}),c.a.use(p.a.plugin,s.a);var m=h.languages.map(function(e){return e.id}),g=m[0],y=navigator.language||navigator.userLanguage;-1!==m.indexOf(v.lang)?g=v.lang:y&&-1!==m.indexOf(y)&&(g=y),c.a.i18n.set(g);var w=new c.a({el:"#app",data:{loaded:!1},store:s.a,render:function(e){return e(r.a)}});c.a.i18n.load(g,"static/configuration/locale/"+g+".json").then(function(){w.loaded=!0}).catch(function(e){return alert("Error loading language file: "+e)}),f.a.checkAuth()},307:function(e,t){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),a=n.length>>>0,i=arguments[1],o=0;o<a;o++)if(t=n[o],e.call(i,t,o,n))return t}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var a=arguments[1],i=0;i<n;){var o=t[i];if(e.call(a,o,i,t))return i;i++}return-1}})},311:function(e,t,n){"use strict";var a=n(78),i=n.n(a),o=n(144),r=n(29),s=(n.n(r),function e(t){if(i()(this,e),this.id=e.nextId++,this.originalId=t.id,this.type=t.type||"wms",this.opacity=1,"wms"===this.type){this.serverUrls=t.serverUrls||r.map.defaultGeoServerURLs,this.name=t.wmsName||t.name||null,this.styles=n.i(o.a)(t.styles),this.imageFormat=t.imageFormat||"image/png8",this.legend=t.legend||null,this.wmsType=t.wmsType||"tiled";var a=t.times||[];this.times=a.map(function(e){return{iso8601:e,humanReadable:e}}),this.statistics=t.statistics&&t.statistics.map(function(e){var t={type:e.type,labels:e.labels};switch(e.type){case"url":t.url=e.url;break;case"attributes":t.attributes=e.attributes&&e.attributes.map(function(e){return{attribute:e.attribute,labels:e.labels||e.attribute}});break;default:throw new Error("Unsupported statistics type: "+e.type)}return t}),this.downloadLinks=t.downloadLinks}this.visible=!1!==t.visible,this.sourceLink=t.sourceLink||null,this.sourceLabel=t.sourceLabel||null});s.nextId=0,t.a=s},333:function(e,t,n){"use strict";function a(e){return!!e&&Array===e.constructor}var i=n(94),o=n.n(i),r=n(207),s=n(334),l={};l.install=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"i18n",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["{","}"];if(t.registerModule(n,r.a),!t.state.hasOwnProperty(n))return console.error("i18n vuex module is not correctly initialized. Please check the module name:",n),e.prototype.$i18n=function(e){return e},e.prototype.$getLanguage=function(){return null},void(e.prototype.$setLanguage=function(){return console.error("i18n vuex module is not correctly initialized")});var i=c(a),o=function(){var e=t.state[n].locale;return s.apply(void 0,[e].concat(Array.prototype.slice.call(arguments)))},s=function(e){var a="",o="",r={},s=null,l=arguments.length;l>=3&&"string"==typeof arguments[2]?(a=arguments[1],o=arguments[2],l>3&&(r=arguments[3]),l>4&&(s=arguments[4])):(a=arguments[1],o=a,l>2&&(r=arguments[2]),l>3&&(s=arguments[3]));var c=t.state[n].translations,u=t.state[n].fallback,d=e.split("-"),f=!0;return c.hasOwnProperty(e)?c[e].hasOwnProperty(a)||(f=!1):f=!1,f?i(e,c[e][a],r,s):d.length>1&&c.hasOwnProperty(d[0])&&c[d[0]].hasOwnProperty(a)?i(d[0],c[d[0]][a],r,s):c.hasOwnProperty(u)?c[u].hasOwnProperty(a)?i(e,c[u][a],r,s):i(u,o,r,s):i(e,o,r,s)},l=function(e){var a=t.state[n].locale,i=t.state[n].fallback,o=t.state[n].translations;return o.hasOwnProperty(a)?o[a].hasOwnProperty(e):!!o.hasOwnProperty(i)&&o[i].hasOwnProperty(e)},u=function(e){t.dispatch({type:"setFallbackLocale",locale:e})},d=function(e){t.dispatch({type:"setLocale",locale:e})},f=function(){return t.state[n].locale},p=function(e,n){return t.dispatch({type:"addLocale",locale:e,translations:n})},h=function(e,n){return t.dispatch({type:"loadLocale",locale:e,url:n})},v=function(e){t.state[n].translations.hasOwnProperty(e)&&t.dispatch({type:"removeLocale",locale:e})},m=function(e){return t.state[n].translations.hasOwnProperty(e)};e.prototype.$i18n={locale:f,set:d,add:p,load:h,remove:v,fallback:u,localeExists:m,keyExists:l},e.i18n={locale:f,set:d,add:p,load:h,remove:v,fallback:u,translate:o,translateIn:s,localeExists:m,keyExists:l},e.prototype.$t=o,e.prototype.$te=l,e.prototype.$tlang=s,e.filter("translate",o)};var c=function(e){null!=e&&2===e.length||console.warn("You must specify the start and end character identifying variable substitutions");var t=new RegExp(e[0]+"\\w+"+e[1],"g"),n=function(n,a){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n.replace?n.replace(t,function(t){var o=t.replace(e[0],"").replace(e[1],"");return void 0!==a[o]?a[o]:(i&&(console.group("Not all placeholders found"),console.warn("Text:",n),console.warn("Placeholder:",t),console.groupEnd()),t)}):n};return function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=void 0===t?"undefined":o()(t),c=void 0===r?"undefined":o()(r),u=function(){return a(t)?t.map(function(e){return n(e,i,!1)}):"string"===l?n(t,i,!0):void 0};if(null===r)return u();if("number"!==c)return console.warn("pluralization is not a number"),u();var d=u().split(":::"),f=s.a.getTranslationIndex(e,r);return void 0===d[f]?(console.warn("no pluralized translation provided in ",t),d[0].trim()):d[f].trim()}};t.a=l},334:function(e,t,n){"use strict";t.a={getTranslationIndex:function(e,t){switch(e){case"ay":case"bo":case"cgg":case"dz":case"fa":case"id":case"ja":case"jbo":case"ka":case"kk":case"km":case"ko":case"ky":case"lo":case"ms":case"my":case"sah":case"su":case"th":case"tt":case"ug":case"vi":case"wo":case"zh":return 0;case"is":return t%10!=1||t%100==11?1:0;case"jv":return 0!==t?1:0;case"mk":return 1===t||t%10==1?0:1;case"ach":case"ak":case"am":case"arn":case"br":case"fil":case"fr":case"gun":case"ln":case"mfe":case"mg":case"mi":case"oc":case"pt_BR":case"tg":case"ti":case"tr":case"uz":case"wa":case"zh":return t>1?1:0;case"lv":return t%10==1&&t%100!=11?0:0!==t?1:2;case"lt":return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2;case"mnk":return 0===t?0:1===t?1:2;case"ro":return 1===t?0:0===t||t%100>0&&t%100<20?1:2;case"pl":return 1===t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2;case"cs":case"sk":return 1===t?0:t>=2&&t<=4?1:2;case"csb":return 1===t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2;case"sl":return t%100==1?0:t%100==2?1:t%100==3||t%100==4?2:3;case"mt":return 1===t?0:0===t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3;case"gd":return 1===t||11===t?0:2===t||12===t?1:t>2&&t<20?2:3;case"cy":return 1===t?0:2===t?1:8!==t&&11!==t?2:3;case"kw":return 1===t?0:2===t?1:3===t?2:3;case"ga":return 1===t?0:2===t?1:t>2&&t<7?2:t>6&&t<11?3:4;case"ar":return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5;default:return 1!==t?1:0}}}},335:function(e,t,n){"use strict";var a=n(207),i=n(333);t.a={store:a.a,plugin:i.a}},336:function(e,t,n){"use strict";var a=n(41),i=n.n(a),o=n(78),r=n.n(o),s=n(150),l=n.n(s),c=n(193),u=n(185),d=n(29),f=(n.n(d),n(206)),p=[],h=function(){function e(){r()(this,e)}return l()(e,null,[{key:"createOlLayer",value:function(e,t){var n=void 0,a=void 0;switch(e.type){case"osm":n=new c.b;break;case"bing-aerial":n=new c.c({key:d.map.bingMapsKey,imagerySet:"Aerial"});break;case"esri":n=new c.d({attributions:'Tiles © <a href="https://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer">ArcGIS</a>',url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}"});break;case"google":return new f.a({mapTypeId:"satellite"});default:var o=[],r=e.sourceLabel,s=e.sourceLink,l=r||s,h=e.wmsType||"tiled";if(l){var v=p[l];v||(v=s?'<a target="_blank" href="'+s+'">'+l+"</a>":r),p[l]=v,o.push(v)}var m=e.styles&&e.styles.find(function(e){return e.language===t}).label,g={urls:e.serverUrls,params:{LAYERS:e.name,STYLES:m||void 0,VERSION:"1.3.0",FORMAT:e.imageFormat,WIDTH:256,HEIGHT:256,CRS:"EPSG:3857"},serverType:"geoserver",attributions:o};"single"===h?(n=new c.e(i()({},g,{url:e.serverUrls[0],ratio:1})),a=h):n=new c.f(i()({},g,{params:i()({},g.params,{TILED:!0,tilesorigin:"-20037508.34,-20037508.34"})}))}if(n){var y={visible:!1,source:n,opacity:e.opacity||1};return a?new u.b(y):new u.c(y)}}}]),e}();t.a=h},337:function(e,t,n){"use strict";var a=n(116),i=n.n(a),o=n(41),r=n.n(o),s=n(213),l=n.n(s),c=n(57),u=n.n(c),d=n(40),f=n(202),p=n(144),h=n(149),v=n(208),m=n(132);u.a.use(d.c);var g=function(e){var t=[];e.contexts.forEach(function(e){var n=e.layers.filter(function(e){return"wms"===e.type&&e.times.length}).reduce(function(e,t){return e.concat(t.times)},[]).filter(function(e,t,n){return n.findIndex(function(t){return t.iso8601===e.iso8601})===t}).sort(function(e,t){return Date.parse(e.iso8601)-Date.parse(t.iso8601)});e.times=n,n&&n.length&&(t[e.id]=e.times[e.times.length-1])}),e.contextsTimes=t},y={vector_style:{label:"",fontColor:"#fff",fontFamily:"sans-serif",fontSize:"12px",fontStyle:"normal",fontWeight:"bold",strokeColor:"#ffcc33",strokeOpacity:1,strokeWidth:2,fillColor:"#ffffff",fillOpacity:.2,strokeDashstyle:"solid"}},w={layers:[],contexts:[],groups:null,annotations:{visible:!1},layerInfo:null,contextsTimes:[],kmlOverlay:null,enableFeedback:!1,measureActive:!1,activeContextsIds:[],editing:!1,editGroup:null,editContext:null,editLayers:!1},b={enable_edit:function(e,t){var n=t.editing;e.editing=n},add_group:function(e){var t=new v.a({labels:n.i(p.a)(null,"New group")},[],e.groups);e.groups.items.push(t)},add_context:function(e){var t=new h.a({labels:n.i(p.a)(null,"New context")});t.parent=e.groups,t.times=[],e.groups.items.push(t),e.contexts.push(t)},edit_item:function(e,t){var n=t.id,a=e.groups.findById(n);a?a.isGroup?e.editGroup=a:e.editContext=a:e.editContext=e.editGroup=null},delete_item:function(e,t){var n=t.id,a=e.groups.findById(n),i=a.parent.items.findIndex(function(e){return e.id===n});i>-1&&a.parent.items.splice(i,1)},edit_layers:function(e,t){var n=t.edit;e.editLayers=n},save_group:function(e,t){var n=t.id,a=t.labels,i=t.exclusive,o=t.allowDisableAll,r=t.infoFile,s=e.groups.findById(n);s.labels=a,s.exclusive=i,s.allowDisableAll=o,s.infoFile=r},save_context:function(e,t){var n=t.id,a=t.label,i=t.labels,o=t.infoFile,r=t.active,s=t.inlineLegendUrl,l=t.layerIds,c=e.groups.findById(n);c.label=a,c.labels=i,c.infoFile=o,c.active=r,c.inlineLegendUrl=s,c.layers=l.map(function(t){return e.layers.find(function(e){return e.id===t})}),g(e)},receive_layers:function(e,t){var n=t.layersConf;e.layers=n.layers,e.contexts=n.contexts,e.groups=n.groups,g(e),e.activeContextsIds=e.contexts.reduce(function(e,t){return t.active?e.concat(t.id):e},[])},update_context:function(e,t){var n=t.contextId,a=t.property,i=t.value,o=e.contexts.find(function(e){return e.id===n});o&&(o[a]=i,l()(m.a).some(function(e){return e===a})&&o.layers.forEach(function(e){return e[a]=i}),e.contexts.splice(n,1,o))},toggle_context:function(e,t){var n=t.contextId;if(e.contexts.find(function(e){return e.id===n})){var a=e.activeContextsIds.indexOf(n);-1===a?e.activeContextsIds.push(n):e.activeContextsIds.splice(a,1)}},show_layer_info:function(e,t){var n=t.fileName,a=t.label,i=t.showDownload,o=t.downloadLinks;e.layerInfo={fileName:n,label:a,showDownload:i,downloadLinks:o}},set_context_time:function(e,t){var n=t.contextId,a=t.time;e.contextsTimes.splice(n,1,a)},overlay_kml:function(e,t){var n=t.kml;e.kmlOverlay=n},enable_feedback:function(e,t){var n=t.enable;e.enableFeedback=n},toggle_measure:function(e,t){t.enable;e.measureActive=!e.measureActive},update_group:function(e,t){var n=t.groupId,a=t.value,i=e.groups.findById(n);i&&(i.items=a),i.items.forEach(function(e){e.parent=i})},update_layers:function(e,t){var n=t.value;e.layers=n,e.contexts.forEach(function(e){var t=e.layers;e.layers=t.map(function(e){return n.find(function(t){return t.id===e.id})}).filter(function(e){return!!e})}),g(e)},set_annotations_geojson:function(e,t){var n=t.layer,a=t.label,o=void 0===a?"":a,s=n.features.map(function(e){return e.properties=r()({},e.properties,{vector_style:r()({},y.vector_style,{label:o})}),e});if(e.annotations.geoJson){var l=i()(n.features,1),c=l[0],u=e.annotations.geoJson.features.findIndex(function(e){return e.properties.id===c.properties.id});-1===u?e.annotations.geoJson.features.push(c):e.annotations.geoJson.features[u]=c}else e.annotations=r()({},e.annotations,{geoJson:r()({},n,{features:s})})},set_annotations_visible:function(e,t){var n=t.visible;e.annotations=r()({},e.annotations,{visible:n})},clear_annotations:function(e){e.annotations={visible:!1}}},_={fetchLayersConfig:function(e){var t=e.commit;n.i(f.d)().then(function(e){return t("receive_layers",{layersConf:e})}).catch(function(e){return alert(e)})},restoreBackup:function(e,t){var a=e.dispatch,i=t.version;n.i(f.e)(i).then(function(){return a("fetchLayersConfig")}).catch(function(e){return alert("Server error:\n"+e.statusText)})}},x={activeContexts:function(e){return e.contexts.filter(function(t){return-1!==e.activeContextsIds.indexOf(t.id)})},activeLayers:function(e,t){var n=[];return t.activeContexts.forEach(function(e){return e.layers.forEach(function(e){return n.push(e)})}),n.filter(function(e,t,n){return n.indexOf(e)===t})},queryableLayers:function(e,t){return t.activeLayers.filter(function(e){return e.statistics})},annotationLayer:function(e){return e.annotations.visible&&e.annotations.geoJson}};t.a=new d.c.Store({strict:!1,state:w,getters:x,actions:_,mutations:b})},356:function(e,t,n){"use strict";function a(){return"fa-"+(s++).toString(16)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(383),o=n.n(i),r={};t.default={name:"fa-icon",props:{name:{type:String,validator:function(e){return!e||e in r||(console.warn('Invalid prop: prop "name" is referring to an unregistered icon "'+e+'".\nPlease make sure you have imported this icon before using it.'),!1)}},scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:function(e){return"horizontal"===e||"vertical"===e}},label:String},data:function(){return{x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var e=this.scale;return e=void 0===e?1:Number(e),isNaN(e)||e<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):e*this.outerScale},klass:function(){return o()({"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse},this.$options.name,!0)},icon:function(){return this.name?r[this.name]:null},box:function(){return this.icon?"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},ratio:function(){if(!this.icon)return 1;var e=this.icon,t=e.width,n=e.height;return Math.max(t,n)/16},width:function(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw:function(){if(!this.icon||!this.icon.raw)return null;var e=this.icon.raw,t={};return e=e.replace(/\s(?:xml:)?id=(["']?)([^"')\s]+)\1/g,function(e,n,i){var o=a();return t[i]=o,' id="'+o+'"'}),e=e.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,function(e,n,a,i){var o=n||i;return o&&t[o]?"#"+t[o]:e}),e}},mounted:function(){var e=this;if(!this.name&&0===this.$children.length)return void console.warn('Invalid prop: prop "name" is required.');if(!this.icon){var t=0,n=0;this.$children.forEach(function(a){a.outerScale=e.normalizedScale,t=Math.max(t,a.width),n=Math.max(n,a.height)}),this.childrenWidth=t,this.childrenHeight=n,this.$children.forEach(function(e){e.x=(t-e.width)/2,e.y=(n-e.height)/2})}},register:function(e){for(var t in e){var n=e[t];n.paths||(n.paths=[]),n.d&&n.paths.push({d:n.d}),n.polygons||(n.polygons=[]),n.points&&n.polygons.push({points:n.points}),r[t]=n}},icons:r};var s=870711},357:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(57),i=n.n(a),o=n(579),r=n.n(o),s=n(590),l=n.n(s),c=n(587),u=n.n(c),d=n(580),f=n.n(d),p=n(582),h=n.n(p),v=n(583),m=n.n(v),g=n(586),y=n.n(g),w=n(589),b=n.n(w),_=n(591),x=n.n(_),k=n(592),C=n.n(k),L=n(578),E=n.n(L),S=n(29),T=(n.n(S),n(77));t.default={name:"app",components:{Banner:r.a,MapPane:l.a,LayerSelector:u.a,ContextInfoModal:f.a,FeatureInfo:h.a,Feedback:m.a,KMLOverlay:y.a,Measure:x.a,Logos:b.a,Search:C.a,Annotations:E.a},data:function(){return{user:T.a.user,showConsole:!1,llLogos:S.logos&&S.logos.ll||null,resizable:!0,adaptive:!0,draggable:!0}},created:function(){this.$store.dispatch("fetchLayersConfig"),this.user.authenticated&&this.loadEditor()},watch:{"user.authenticated":function(){this.user.authenticated?this.loadEditor():this.showConsole=!1}},mounted:function(){S.welcomePage&&this.showWelcomePage(!0,!0,!0)},methods:{loadEditor:function(){var e=this;n.e(0).then(function(t){i.a.component("EditorConsole",n(316)),e.showConsole=!0}.bind(null,n)).catch(n.oe)},showWelcomePage:function(e,t,n){var a=this;this.resizable=e,this.adaptive=t,this.draggable=n,this.$nextTick(function(){a.$modal.show({template:'\n            <div class="iframe-modal-content">\n              <div>Welcome</div>\n              <iframe v-bind:src="iframesrc" width=100% height=100%><b>Welcome to Gonini.org!</b></iframe>\n            </div>\n          ',props:["iframesrc"]},{iframesrc:S.welcomePage},{transition:"nice-modal-fade",draggable:n,adaptive:t,resizable:e,width:710,height:850})})}}}},358:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(116),i=n.n(a),o=n(41),r=n.n(o),s=n(9),l=n.n(s),c=(n(339),n(340),n(348),n(347),n(355),n(436)),u=(n.n(c),n(296)),d=n(48),f=n(64),p=n(130),h=n(470),v=n(124),m=n(569),g=n(58),y=void 0,w=void 0,b=void 0,_=void 0;t.default={components:{Icon:l.a},data:function(){var e=["circle","triangle","rectangle"];return{curGeomType:e[0],open:!1,visible:!1,geometryTypes:e,featureText:"",id:"",currentFeature:{}}},mounted:function(){var e=this;y=new f.a({wrapX:!1}),w=new d.a({source:y,map:g.a,style:new u.b({fill:new u.c({color:"rgba(255,255,255,0.4)"}),stroke:new u.d({color:"#ffcc33",width:2})})}),_=new v.a({element:document.getElementById("popup"),autoPan:!0,autoPanAnimation:{duration:250}}),g.a.on("click",function(t){return e.onFeatureClick(t)})},watch:{curGeomType:function(e){this.open&&this.createInteraction(e)},open:function(e){e&&this.createInteraction(this.curGeomType)}},methods:{onFeatureClick:function(e){var t=g.a.forEachFeatureAtPixel(e.pixel,function(e){return e||{}}),n=t.getGeometry().getCoordinates()[0];n.length&&(t&&t.getStyle()&&(this.featureText=t.getStyle().getText().getText()||""),this.currentFeature=t,this.id=t.getProperties().id,g.a.addOverlay(_),_.setPosition(n[0]),this.displayPopup(!0))},displayPopup:function(e){document.getElementById("popup").style.display=e?"block":"none"},togglePanel:function(){var e=!this.open;this.open=e,e||this.removeInteraction()},toggleLayer:function(){var e=!w.getVisible();w.setVisible(e),g.a.updateSize(),this.visible=e,this.$store.commit("set_annotations_visible",{visible:e})},showLayer:function(){this.visible=!0,w.setVisible(!0)},clearVector:function(){y.clear(),this.$store.commit("clear_annotations"),this.visible=!1},removeInteraction:function(){b&&g.a.removeInteraction(b)},setFeatureStyle:function(){var e=this.currentFeature,t=this.featureText,n=new u.b({fill:new u.c({color:"rgba(255,255,255,0.4)"}),stroke:new u.d({color:"#ffcc33",width:2}),text:new u.e({textAlign:"center",textBaseline:"middle",font:"bold 16px sans-serif",text:t,fill:new u.c({color:"#fff"}),placement:"point",overflow:!0})});e.setStyle(n),e.setProperties({id:this.id});var a=JSON.parse((new h.a).writeFeatures([e]));this.$store.commit("set_annotations_geojson",{layer:a,label:t}),this.featureText="",this.displayPopup(!1)},createInteraction:function(e){var t=this;b&&g.a.removeInteraction(b);var a=void 0;switch(e){case"circle":a={type:"Circle",geometryFunction:n.i(p.a)(0)};break;case"triangle":a={type:"Circle",geometryFunction:n.i(p.a)(3)};break;case"rectangle":a={type:"Circle",geometryFunction:n.i(p.b)()};break;default:a=null}a&&(b=new p.c(r()({source:y},a)),g.a.addInteraction(b),b.on("drawend",function(e){var a=n.i(m.a)();e.feature.setProperties({id:a}),t.currentFeature=e.feature;var o=new h.a,r=o.writeFeatures([e.feature]);t.id=a,t.$store.commit("set_annotations_geojson",{layer:JSON.parse(r)}),t.$store.commit("set_annotations_visible",{visible:!0}),t.showLayer(),t.featureText="";var s=i()(o.readFeatures(r)[0].getGeometry().getCoordinates()[0],1),l=s[0];g.a.addOverlay(_),_.setPosition(l),t.displayPopup(!0)}))}}}},359:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(115),i=n.n(a),o=n(29),r=(n.n(o),n(57)),s=n.n(r),l=n(584),c=n.n(l),u=n(588),d=n.n(u),f=n(77),p=n(202),h=n(40);t.default={components:{FileDrop:c.a,LoginModal:d.a},data:function(){return{languages:o.languages,selectedLanguage:s.a.i18n.locale(),showUpload:!1,showLogin:!1,user:f.a.user,printURL:o.printApi&&o.printApi.url||null}},methods:{setLanguage:function(e){var t=this;s.a.i18n.load(e,"static/configuration/locale/"+e+".json").then(function(n){s.a.i18n.set(e),t.selectedLanguage=s.a.i18n.locale()}).catch(function(e){return alert("Error loading language file: "+e)})},enableFeedback:function(e){e.preventDefault(),this.$store.commit("enable_feedback",{enable:!0})},enableUpload:function(e){e.preventDefault(),this.showUpload=!0},disableUpload:function(){this.showUpload=!1},logout:function(){f.a.logout()},showLoginDialog:function(e){this.showLogin=e},toggleMeasure:function(e){e.preventDefault(),this.$store.commit("toggle_measure",{enable:!0})},printMap:function(e){e.preventDefault();var t=n.i(p.c)(this.activeLayers,this.activeContexts,s.a.i18n.locale(),this.annotationLayer),a=o.printApi.url,r=new XMLHttpRequest;r.open("POST",a,!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.responseType="blob",r.onload=function(){if(200===r.status){var e=r.getResponseHeader("content-disposition"),t=/"([^"]*)"/.exec(e),n=null!=t&&t[1]?t[1]:"map.pdf",a=new Blob([r.response],{type:"application/pdf"}),i=document.createElement("a");i.href=window.URL.createObjectURL(a),i.download=n,document.body.appendChild(i),i.click(),document.body.removeChild(i)}},r.send("spec="+encodeURIComponent(i()(t)))}},computed:n.i(h.b)(["activeLayers","activeContexts","annotationLayer"])}},360:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(41),i=n.n(a),o=n(115),r=n.n(o),s=n(40),l=n(75),c=n(57),u=n.n(c),d=function(e){return e.replace("$(_lang)",u.a.i18n.locale())},f=function(e){return/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)};t.default={data:function(){return{showModal:!1,custom_content:null,content:null,needsEmail:!1,email:"",emailInvalid:!1,showDownloadLinks:!1}},methods:{closeByName:function(){this.$modal.hide("context-info-modal")},changeEmail:function(e){this.email=e.target.value},resetState:function(){this.email="",this.emailInvalid=!1,this.content="",this.showDownloadLinks=!1},showLayerInfoContent:function(e){var t=this;this.label=e.label;var a=function(e){t.content=e,t.$modal.show("context-info-modal")};n.i(l.a)("GET",d(e.fileName)).then(function(e){return a(e)}).catch(function(e){return a("Cannot get layer info:\n"+e.statusText)})},validateEmailAndContinue:function(){if(f(this.email)){window.localStorage.setItem("userEmail",this.email),this.emailInvalid=!1,this.needsEmail=!1,this.showDownloadLinks=!0}else this.emailInvalid=!0},requestEmailChange:function(){this.needsEmail=!0,this.showDownloadLinks=!1},processDownloadLink:function(e){var t=e.url,n=new XMLHttpRequest;n.open("POST","/api/layer_info_download_log"),n.setRequestHeader("Content-Type","application/json"),n.send(r()({email:this.email,link:t}))}},watch:{layerInfo:function(e){if(e.showDownload){var t=window.localStorage,n=t.getItem("userEmail");n?(this.email=n,this.needsEmail=!1,this.showDownloadLinks=!0,this.$modal.show("context-info-modal")):(this.needsEmail=!0,this.$modal.show("context-info-modal"))}else this.showLayerInfoContent(e)}},computed:i()({},n.i(s.a)(["layerInfo"]),{showEmailPrompt:function(){return!!this.layerInfo&&this.layerInfo.showDownload&&this.needsEmail&&!this.showDownloadLinks},downloadLinksIntl:function(){return(this.layerInfo.downloadLinks||[]).map(function(e){return i()({},e,{label:e.labels.find(function(e){return e.language===u.a.i18n.locale()}).label})})}})}},361:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(57),i=n.n(a);t.default={props:{conf:Object},data:function(){return{legendUrls:this.conf.legend(i.a.i18n.locale())}}}},362:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(41),i=n.n(a),o=n(93),r=n.n(o),s=n(116),l=n.n(s),c=n(48),u=n(64),d=n(124),f=n(172),p=n(40),h=n(58),v=n(75),m=n(57),g=n.n(m),y=new c.a({source:new u.a,map:h.a}),w=function(e,t){var n=/\$\((\w+)\)/g;return e.replace(n,function(e,n){var a=e.substring(2,e.length-1);return t.getProperties()[a]})},b=function(e,t){return w(e.replace("$(_lang)",g.a.i18n.locale()),t)},_=new f.a,x=function(e){return e.then(function(t){return{v:t,layer:e.layer,status:"fulfilled"}},function(t){return{e:t,layer:e.layer,status:"rejected"}})},k=void 0,C=void 0,L=void 0,E=function(e,t,n,a,i,o){var r=_.readFeatures(o.v,{featureProjection:"EPSG:3857"});return r.length&&(y.getSource().addFeatures(r),r.forEach(function(a){if(o.layer){o.layer.statistics.forEach(function(i){e.push(i);var o=i.labels.find(function(e){return e.language===g.a.i18n.locale()}).label;t.push(o?w(o,a):a.getId()),n.push(a)})}})),i+r.length},S=function(e){if(!this.enableFeedback&&!this.measureActive&&(L.setPosition(void 0),y.getSource().clear(),this.queryableLayers.length)){this.statisticsConfs=[],this.statisticsLabels=[],this.statisticsFeatures=[];var t=h.a.getSize(),a=l()(t,2),i=a[0],o=a[1],s=l()(e.pixel,2),c=s[0],u=s[1],d=h.a.getView().calculateExtent(t),f=[];this.queryableLayers.forEach(function(e){var t=(e.serverUrls&&e.serverUrls.length&&e.serverUrls[0])+"?LAYERS="+e.name+"&QUERY_LAYERS="+e.name+"&STYLES=&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetFeatureInfo&SRS=EPSG%3A900913&BBOX="+d.join("%2C")+"&FEATURE_COUNT=5&FORMAT=image%2Fpng&INFO_FORMAT=application%2Fjson&HEIGHT="+o+"&WIDTH="+i+"&X="+Math.round(c)+"&Y="+Math.round(u)+"&EXCEPTIONS=application%2Fvnd.ogc.se_xml",a=n.i(v.a)("GET",t);a.layer=e,f.push(a)}),r.a.all(f.map(x)).then(function(t){t.filter(function(e){return"fulfilled"===e.status}).reduce(E.bind(null,this.statisticsConfs,this.statisticsLabels,this.statisticsFeatures,e),0)>0?L.setPosition(e.coordinate):L.setPosition(void 0)}.bind(this))}};t.default={data:function(){return{statisticsLabels:[],statisticsConfs:[],statisticsFeatures:[],showStatisticsModal:!1,statisticsUrl:null,popupAttributes:null}},mounted:function(){k=document.getElementById("popup"),C=document.getElementById("popup-closer"),C.onclick=function(){return L.setPosition(void 0),C.blur(),y.getSource().clear(),!1},L=new d.a({element:k,autoPan:!0,autoPanAnimation:{duration:250}}),h.a.addOverlay(L)},watch:{layers:{immediate:!0,handler:function(){this.clickCallback||(this.clickCallback=S.bind(this)),h.a.un("singleclick",this.clickCallback),this.handlerKey=h.a.on("singleclick",this.clickCallback)}}},methods:{showStatistics:function(e,t){var n=function(e){var t=e.labels.find(function(e){return e.language===g.a.i18n.locale()});return t?t.label:null};switch(e.type){case"url":var a=e.url;this.statisticsUrl=b(a,t),this.$modal.show("stats-modal");break;case"attributes":var i=e.attributes;if(i)this.popupAttributes=i.map(function(e){return{label:n(e),value:t.getProperties()[e.attribute]||"n/a"}});else{var o=[],r=t.getProperties();for(var s in r)r.hasOwnProperty(s)&&"geometry"!==s&&o.push({label:s,value:r[s]});this.popupAttributes=o}this.$modal.show("props-modal")}}},computed:i()({},n.i(p.a)(["enableFeedback","measureActive","layers"]),n.i(p.b)(["queryableLayers"]))}},363:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(41),i=n.n(a),o=n(193),r=n(185),s=n(130),l=n(126),c=n(40),u=n(58),d=n(29),f=(n.n(d),null),p=null;t.default={data:function(){return{drawSource:null,senderEmailIsRequired:d.feedbackApi.askForEmail||!1,senderEmail:"",message:"",draw:null,categories:d.feedbackApi.feedbackCategories||[],selectedCategory:"",drawOptions:d.feedbackApi.drawOptions||["Point","Polygon"],drawDefault:d.feedbackApi.drawDefault||"Polygon"}},watch:{enableFeedback:function(e){e?(this.drawSource=new o.a({wrapX:!1}),f=new r.a({source:this.drawSource,map:u.a}),this.drawOptions.includes(this.drawDefault||"Polygon")?this.draw=this.drawDefault||"Polygon":this.draw=this.drawOptions[0]):(this.message="",this.selectedCategory="",u.a.removeInteraction(p),this.clear(),u.a.removeLayer(f),this.draw=null)},draw:function(){this.draw&&(p&&u.a.removeInteraction(p),p=new s.c({source:this.drawSource,type:this.draw}),u.a.addInteraction(p))}},methods:{setDrawTool:function(e){this.draw=e},sendFeedback:function(){var e=f.getSource().getFeatures(),t=new l.a,n=t.writeFeatures(e,{featureProjection:"EPSG:3857"}),a=new XMLHttpRequest,i=this;a.onreadystatechange=function(){4===this.readyState&&(200===this.status?alert("Feedback sent"):alert("Error sending feedback\n"+this.responseText),i.disableFeedback())};var o="category="+this.selectedCategory+"&message="+this.message+"&kml="+n;d.feedbackApi.askForEmail&&(o+="&sender="+this.senderEmail),a.open("POST",d.feedbackApi.feedbackUrl,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(o)},disableFeedback:function(){this.$store.commit("enable_feedback",{enable:!1})},clear:function(){f&&f.getSource().clear()},validEmail:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}},computed:i()({drew:function(){return!(!this.drawSource||!this.drawSource.getFeatures().length)},disableSend:function(){return!(!this.senderEmailIsRequired||this.validEmail(this.senderEmail))||!(this.drew&&""!==this.message&&(0===this.categories.length||""!==this.selectedCategory))}},n.i(c.a)(["enableFeedback"]))}},364:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(201),i=n.n(a);t.default={components:{Modal:i.a},props:["show"],methods:{hideUploadPopup:function(){this.$emit("disable")}},watch:{show:function(e){var t=this,n=0,a=function(e){e.stopPropagation(),e.preventDefault(),n++,document.getElementById("dropTarget").classList.add("dragover")},i=function(e){0===--n&&document.getElementById("dropTarget").classList.remove("dragover")},o=function(e){e.stopPropagation(),e.preventDefault()},r=function(e){var n=e[0],a=new FileReader;a.onload=function(e){try{t.$store.commit("overlay_kml",{kml:e.target.result})}catch(e){alert("Error reading the KML file:\n"+e)}t.hideUploadPopup()},a.readAsText(n)},s=function(e){e.stopPropagation(),e.preventDefault();var t=e.dataTransfer,a=t.files;r(a),n=0};e&&this.$nextTick(function(){var e=document.getElementById("dropTarget");e.addEventListener("dragenter",a,!1),e.addEventListener("dragleave",i,!1),e.addEventListener("dragover",o,!1),e.addEventListener("drop",s,!1)})}}}},365:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(216),i=n.n(a),o=n(94),r=n.n(o),s=n(41),l=n.n(s),c=n(57),u=n.n(c),d=n(40),f=n(581),p=n.n(f),h=n(594),v=n.n(h),m=n(9),g=n.n(m),y=n(29);n.n(y),n(352),n(350),n(314),n(349),n(345),n(312),n(353),n(343),n(344),n(346),n(351),n(354),n(313),n(342),n(341),n(338);t.default={name:"item",components:{ContextLegend:p.a,TimeSelect:v.a,Icon:g.a,draggable:function(e){return n.e(0).then(function(t){return e(n(310))}.bind(null,n)).catch(n.oe)}},props:{conf:Object},data:function(){return{open:!this.conf.parent,showLegend:!1,showTimeMenu:!1,highlighted:!1,opacity:this.conf.opacity}},computed:l()({list:{get:function(){return this.conf.items},set:function(e){this.$store.commit("update_group",{groupId:this.conf.id,value:e})}},label:function(){var e=this.conf.labels.find(function(e){return e.language===u.a.i18n.locale()});return e?e.label:null},isRoot:function(){return!this.conf.parent},hasLayers:function(){return!!this.conf.layers&&!!this.conf.layers.length},hasStatistics:function(){return!!this.conf.layers&&this.conf.layers.some(function(e){return e.statistics})},hasDataDownload:function(){return!!this.conf.layers&&this.conf.layers.some(function(e){return e.downloadLinks})},selectedTime:function(){return this.contextsTimes[this.conf.id]},active:function(){return-1!==this.activeContextsIds.indexOf(this.conf.id)},nContexts:function(){return function e(t){return t.isGroup?t.items.reduce(function(t,n){return t+e(n)},0):t.layers.length?1:0}(this.conf)},nActive:function(){var e=this.activeContextsIds;return function t(n){return n.isGroup?n.items.reduce(function(e,n){return e+t(n)},0):-1!==e.indexOf(n.id)?1:0}(this.conf)},locNActive:function(){var e=u.a.i18n.locale(),t=y.languages.find(function(t){return t.id===e});return t&&t.u&&(e+="-u-"+t.u),"object"===("undefined"==typeof Intl?"undefined":r()(Intl))&&"function"==typeof Intl.NumberFormat?this.nActive.toLocaleString(e):this.nActive}},n.i(d.a)(["contextsTimes","activeContextsIds","editing"])),watch:{active:function(){this.showLegend=!1}},methods:{startEditing:function(){this.$store.commit("enable_edit",{editing:!0})},editItem:function(){this.$store.commit("edit_item",{id:this.conf.id})},deleteItem:function(){confirm("Are you sure that you want to delete this item?")&&this.$store.commit("delete_item",{id:this.conf.id})},highlightContext:function(e){this.highlighted=e},toggleContent:function(){this.open=!this.open},toggleActive:function(){var e=this;this.conf.layers.length&&(this.conf.parent.exclusive?(!this.conf.parent.allowDisableAll&&this.active||this.$store.commit("toggle_context",{contextId:this.conf.id}),this.conf.parent.items.forEach(function(t){t.id!==e.conf.id&&-1!==e.activeContextsIds.indexOf(t.id)&&e.$store.commit("toggle_context",{contextId:t.id})})):this.$store.commit("toggle_context",{contextId:this.conf.id}))},updateOpacity:function(e){this.conf.layers.length&&this.$store.commit("update_context",{contextId:this.conf.id,property:"opacity",value:+e.target.value})},toggleLegend:function(){this.active&&(this.showLegend=!this.showLegend)},showInfo:function(){this.$store.commit("show_layer_info",{label:this.conf.label,fileName:this.conf.infoFile})},showDownloads:function(){this.$store.commit("show_layer_info",{label:this.label+" Downloads",showDownload:!0,downloadLinks:(this.conf.layers||[]).map(function(e){return e.downloadLinks}).reduce(function(e,t){return[].concat(i()(e),i()(t))},[])})},toggleTimeMenu:function(){this.showTimeMenu=!this.showTimeMenu},setTime:function(e){this.$store.commit("set_context_time",{contextId:this.conf.id,time:e})}}}},366:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(48),i=n(64),o=n(51),r=n(89),s=n(113),l=n(112),c=n(126),u=n(40),d=n(58),f=void 0;t.default={methods:{clearFeedback:function(){this.$store.commit("overlay_kml",{kml:null})}},watch:{kmlOverlay:function(e){if(d.a.removeLayer(f),e){var t=new i.a({features:new c.a({extractStyles:!1}).readFeatures(e,{featureProjection:"EPSG:3857"})}),n=new s.a({color:"#319FD3",width:1}),u=new r.a({color:"rgba(255, 255, 255, 0.3)"}),p=new l.a({fill:u,stroke:n,radius:5}),h={Point:new o.d({image:p}),LineString:new o.d({stroke:n}),Polygon:new o.d({fill:u,stroke:n}),MultiPoint:new o.d({image:p}),MultiLineString:new o.d({stroke:n}),MultiPolygon:new o.d({fill:u,stroke:n})},v=function(e,t){var n=e.getStyleFunction();return n?n.call(e,t):h[e.getGeometry().getType()]};f=new a.a({source:t,style:v}),f.setZIndex(1e3),d.a.addLayer(f),d.a.getView().fit(t.getExtent(),d.a.getSize())}}},computed:n.i(u.a)(["kmlOverlay"])}},367:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(585),i=n.n(a),o=n(40),r=n(77);t.default={name:"layerSelector",components:{Item:i.a},data:function(){return{user:r.a.user}},computed:n.i(o.a)(["groups"])}},368:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(77),i=n(201),o=n.n(i);t.default={data:function(){return{user:null,password:null,error:null}},components:{Modal:o.a},props:["show"],methods:{submit:function(e,t){var n=this,i={username:this.user,password:this.password};a.a.login(i,"secretquote").then(function(e){n.$emit("disable"),n.user=n.password=n.error=null}).catch(function(e){this.error=e.statusText}.bind(this))},cancel:function(){this.$emit("disable"),this.user=this.password=this.error=null}}}},369:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{logosList:Array}}},370:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(41),i=n.n(a),o=n(213),r=n.n(o),s=n(336),l=n(57),c=n.n(l),u=n(40),d=n(58),f=n(132),p=n(317),h={};t.default={name:"mapPane",data:function(){return{gmap:null}},mounted:function(){d.a.setTarget("map"),this.gmap=new p.a({map:d.a})},watch:{layers:function(e){d.a.getLayers().clear(),e.forEach(function(e){try{var t=s.a.createOlLayer(e,c.a.i18n.locale());t&&(h[e.id]=t,d.a.addLayer(t))}catch(e){console.log(e)}})},locale:function(e,t){null!==t&&this.layers.forEach(function(n){if("wms"===n.type){var a=n.styles.find(function(e){return e.language===t}).label,i=n.styles.find(function(t){return t.language===e}).label;a!==i&&h[n.id].getSource().updateParams({STYLES:i})}})},activeLayers:function(e){var t=function(t){var n=t.visible&&e.some(function(e){return e.id===t.id});h[t.id].setVisible(n)},n=this.layers.filter(function(e){return"google"===e.type});n.forEach(function(e){return h[e.id].setVisible(!1)}),this.layers.filter(function(e){return"google"!==e.type}).forEach(t),n.forEach(t),n.reduce(function(e,t){return e||h[t.id].getVisible()},!1)?this.gmap.activate():this.gmap.deactivate()},contextsTimes:function(e){var t=this;for(var n in e)!function(n){if(e[n]){t.contexts.find(function(e){return e.id===+n}).layers.forEach(function(t){return h[t.id].getSource().updateParams({TIME:e[n].iso8601})})}}(n)},contexts:function(e){this.contexts.forEach(function(e){r()(f.a).filter(function(t){return e.hasOwnProperty(t)}).forEach(function(t){e.layers.filter(function(e){return"google"!==e.type}).forEach(function(n){h[n.id].set(t,e[t])})})})}},computed:i()({},n.i(u.a)({layers:function(e){return e.layers},contexts:function(e){return e.contexts},contextsTimes:function(e){return e.contextsTimes},locale:function(e){return e.i18n.locale}}),n.i(u.b)(["activeLayers"]))}},371:function(e,t,n){"use strict";function a(e){A=e.feature;var t=e.coordinate;j=A.getGeometry().on("change",function(e){var n=e.target,a=void 0;n instanceof y.b?(a=N(n),t=n.getInteriorPoint().getCoordinates()):n instanceof w.a&&(a=D(n),t=n.getLastCoordinate()),M.innerHTML=a,R.setPosition(t)})}function i(){M.className="tooltip tooltip-static",R.setOffset([0,-7]),A=null,M=null,s(),n.i(b.b)(j)}function o(){T=document.getElementById("measureToolType");var e="area"===T.value?"Polygon":"LineString";G=new x.c({source:P,type:e,style:new p.d({fill:new h.a({color:"rgba(255, 255, 255, 0.2)"}),stroke:new v.a({color:"rgba(255,69,0, 0.5)",lineDash:[10,10],width:2}),image:new m.a({radius:5,stroke:new v.a({color:"rgba(0, 0, 0, 0.7)"}),fill:new h.a({color:"rgba(255, 255, 255, 0.2)"})})})}),L.a.addInteraction(G),G.on("drawstart",a,this),G.on("drawend",i,this)}function r(){F&&F.parentNode.removeChild(F),F=document.createElement("div"),F.className="tooltip hidden",$=new g.a({element:F,offset:[15,0],positioning:"center-left"}),$.setMap(L.a)}function s(){M&&M.parentNode.removeChild(M),M=document.createElement("div"),M.className="tooltip tooltip-measure",R=new g.a({element:M,offset:[0,-15],positioning:"bottom-center"}),R.setMap(L.a),I.push(R)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(41),c=n.n(l),u=n(53),d=n(193),f=n(185),p=n(51),h=n(89),v=n(113),m=n(112),g=n(124),y=n(14),w=n(22),b=n(123),_=n(195),x=n(130),k=n(126),C=n(40),L=n(58),E=null,S=null,T=void 0,I=new u.a,P=new d.a,O=new f.a({source:P,style:new p.d({fill:new h.a({color:"rgba(255, 255, 255, 0.2)"}),stroke:new v.a({color:"#ffcc33",width:2}),image:new m.a({radius:7,fill:new h.a({color:"#ffcc33"})})})}),A=void 0,F=void 0,$=void 0,M=void 0,R=void 0,U=function(e){if(!e.dragging){var t="Click to start drawing";if(A){var n=A.getGeometry();n instanceof y.b?t="Click to continue drawing the polygon":n instanceof w.a&&(t="Click to continue drawing the line")}$&&(F.innerHTML=t,$.setPosition(e.coordinate),F.classList.remove("hidden"))}},D=function(e){var t=n.i(_.c)(e);return t>100?Math.round(t/1e3*100)/100+" km":Math.round(100*t)/100+" m"},N=function(e){var t=n.i(_.d)(e);return t>1e4?Math.round(t/1e6*100)/100+" km<sup>2</sup>":Math.round(100*t)/100+" m<sup>2</sup>"},G=void 0,j=void 0;t.default={mounted:function(){this.$nextTick(function(){s(),r()})},watch:{measureActive:function(e){e?(o(),U&&O&&(O.setMap(L.a),$.setMap(L.a),R.setMap(L.a),L.a.on("pointermove",U),T&&T.classList.remove("hidden"),document.getElementById("measureOptions").classList.remove("hidden"),F&&F.classList.remove("hidden"))):(O.setMap(null),P.clear(),$.setMap(null),R.setMap(null),L.a.removeInteraction(G),L.a.un("pointermove",U),T&&T.classList.add("hidden"),document.getElementById("measureOptions").classList.add("hidden"),F&&F.classList.add("hidden"),G.un("drawstart",a),G.un("drawend",i),I.forEach(function(e){e.setMap(null)}))},draw:function(){this.draw&&(S&&L.a.removeInteraction(S),S=new x.c({source:this.drawSource,type:this.draw}),L.a.addInteraction(S))}},methods:{setDrawTool:function(e){this.draw=e},sendFeedback:function(){var e=E.getSource().getFeatures(),t=new k.a,n=t.writeFeatures(e,{featureProjection:"EPSG:3857"}),a=new XMLHttpRequest,i=this;a.onreadystatechange=function(){4===this.readyState&&(200===this.status?alert("Feedback sent"):alert("Error sending feedback\n"+this.responseText),i.disableFeedback())};var o="category="+this.selectedCategory+"&message="+this.message+"&kml="+n;a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(o)},disableFeedback:function(){this.$store.commit("enable_feedback",{enable:!1})},clear:function(){E.getSource().clear()}},computed:c()({drew:function(){return!(!this.drawSource||!this.drawSource.getFeatures().length)},disableSend:function(){return!(this.drew&&""!==this.message&&""!==this.selectedCategory)},toolTypeSelected:{get:function(){return"length"},set:function(e){L.a.removeInteraction(G),G.un("drawstart",a),G.un("drawend",i),o()}}},n.i(C.a)(["measureActive"]))}},372:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={created:function(){window.addEventListener("keydown",this.handleKeyDown)},methods:{handleKeyDown:function(e){13!==e.keyCode&&27!==e.keyCode||this.$emit("close")}}}},373:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(75),i=n(593),o=n.n(i),r=n(58),s=n(1),l=n(172),c=n(29);n.n(c);t.default={data:function(){return{searchText:"",results:[],wfsSearchConfig:c.wfsSearchConfig}},mounted:function(){this.$nextTick(function(){})},watch:{},methods:{clickHandler:function(e){e&&e.extent&&r.a.getView().fit(n.i(s.o)(e.extent,"EPSG:4326","EPSG:3857"),{size:r.a.getSize(),maxZoom:19})},goSearching:function(e){13===e.keyCode&&this.wfsSearch(this.searchText)},noop:function(){},wfsSearch:function(e){var t=this;if(!c.wfsSearchConfig||!c.wfsSearchConfig.layersToQuery)return void alert("WFS Search is not correctly configured.\nPlease contact your system administrator");if(c.wfsSearchConfig.layersToQuery.lenght!==c.wfsSearchConfig.attributesToFilter.lenght)return void alert("WFS Search attributes list lenght does not match the number of layers to query.\nPlease contact your system administrator");var i=c.wfsSearchConfig.layersToQuery.join(),o=encodeURI(c.wfsSearchConfig.attributesToFilter.join(" ILIKE '%"+e+"%';")+" ILIKE '%"+e+"%'"),r="outputFormat=application/json&maxfeatures=10&typeName="+i+"&cql_filter="+o,s=c.wfsSearchConfig.baseURL+"?service=WFS&version=1.1.0&request=GetFeature&"+r;n.i(a.a)("GET",s).then(function(n){var a=JSON.parse(n);if(a.features){t.results=[];var i=new l.a;a.features.forEach(function(t){if(t.geometry&&t.geometry.coordinates&&t.properties&&t.id){var n={};c.wfsSearchConfig.layersToQuery.forEach(function(a,i){var o=a.indexOf(":")>-1?a.split(":")[1]:a;t.id.indexOf(o)>-1&&(n.fromtable=a,n.title&&-1!==n.title.indexOf(e)||(n.title=t.properties[c.wfsSearchConfig.attributesToFilter[i]]))}),n.extent=i.readFeature(t).getGeometry().getExtent(),this.results.push(n)}},t)}}).catch(function(e){alert("Error WFS\n"+e)})}},components:{"search-results":o.a}}},374:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["result","clickHandler"]}},375:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{times:Array,selectedTime:Object},methods:{set:function(e){this.$emit("setTime",e)}}}},436:function(e,t){},437:function(e,t){},438:function(e,t){},439:function(e,t){},440:function(e,t){},441:function(e,t){},442:function(e,t){},443:function(e,t){},444:function(e,t){},445:function(e,t){},446:function(e,t){},447:function(e,t){},448:function(e,t){},449:function(e,t){},450:function(e,t){},451:function(e,t){},452:function(e,t){},453:function(e,t){},454:function(e,t){},455:function(e,t){},456:function(e,t){},457:function(e,t){},577:function(e,t,n){function a(e){n(455)}var i=n(12)(n(357),n(612),a,null,null);e.exports=i.exports},578:function(e,t,n){function a(e){n(454)}var i=n(12)(n(358),n(611),a,"data-v-ac52b2cc",null);e.exports=i.exports},579:function(e,t,n){function a(e){n(445)}var i=n(12)(n(359),n(602),a,"data-v-5ec03e26",null);e.exports=i.exports},58:function(e,t,n){"use strict";var a=n(459),i=n(170),o=n(247),r=n(245),s=n(27),l=n(1),c=n(29),u=(n.n(c),n(330)),d=new o.a({coordinateFormat:n.i(s.a)(4),projection:"EPSG:4326",undefinedHTML:"&nbsp;"});t.a=new a.a({interactions:n.i(u.a)(),controls:n.i(r.a)({attribution:!1,zoom:!0}).extend([d]).extend([new r.b({collapsible:!1})]),view:new i.a({center:n.i(l.a)(c.map.mapCenterLonLat||[0,0]),zoom:c.map.mapZoom||4})})},580:function(e,t,n){function a(e){n(453)}var i=n(12)(n(360),n(610),a,"data-v-a977e7ac",null);e.exports=i.exports},581:function(e,t,n){var a=n(12)(n(361),n(606),null,null,null);e.exports=a.exports},582:function(e,t,n){function a(e){n(448),n(449)}var i=n(12)(n(362),n(605),a,"data-v-62fc443a",null);e.exports=i.exports},583:function(e,t,n){function a(e){n(446)}var i=n(12)(n(363),n(603),a,"data-v-5f89c57f",null);e.exports=i.exports},584:function(e,t,n){function a(e){n(447)}var i=n(12)(n(364),n(604),a,null,null);e.exports=i.exports},585:function(e,t,n){function a(e){n(456)}var i=n(12)(n(365),n(613),a,"data-v-e861c1e6",null);e.exports=i.exports},586:function(e,t,n){function a(e){n(452)}var i=n(12)(n(366),n(609),a,"data-v-79d26ac0",null);e.exports=i.exports},587:function(e,t,n){function a(e){n(444)}var i=n(12)(n(367),n(601),a,"data-v-4f707b74",null);e.exports=i.exports},588:function(e,t,n){function a(e){n(442)}var i=n(12)(n(368),n(599),a,"data-v-4de0f284",null);e.exports=i.exports},589:function(e,t,n){function a(e){n(439)}var i=n(12)(n(369),n(596),a,"data-v-145df81e",null);e.exports=i.exports},590:function(e,t,n){function a(e){n(438),n(437)}var i=n(12)(n(370),n(595),a,"data-v-03bad95a",null);e.exports=i.exports},591:function(e,t,n){function a(e){n(457)}var i=n(12)(n(371),n(614),a,null,null);e.exports=i.exports},592:function(e,t,n){function a(e){n(451)}var i=n(12)(n(373),n(608),a,"data-v-71e586a2",null);e.exports=i.exports},593:function(e,t,n){function a(e){n(450)}var i=n(12)(n(374),n(607),a,"data-v-6e0924df",null);e.exports=i.exports},594:function(e,t,n){function a(e){n(443)}var i=n(12)(n(375),n(600),a,"data-v-4f4b5da3",null);e.exports=i.exports},595:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{attrs:{id:"map"}})},staticRenderFns:[]}},596:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ul",e._l(e.logosList,function(t){return n("li",{key:t.url},[t.link?n("a",{attrs:{href:t.link,target:"_blank"}},[t.imgUrl?n("img",{attrs:{src:t.imgUrl,width:t.size.width,height:t.size.height}}):e._e(),e._v(" "),t.text?n("span",[e._v(e._s(t.text))]):e._e()]):[t.imgUrl?n("img",{attrs:{src:t.imgUrl,width:t.size.width,height:t.size.height}}):e._e(),e._v(" "),t.text?n("span",[e._v(e._s(t.text))]):e._e()]],2)}),0)])},staticRenderFns:[]}},597:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal-mask",on:{mousedown:function(t){return e.$emit("close")}}},[n("div",{staticClass:"modal-container",on:{mousedown:function(e){e.stopPropagation()}}},[e.$slots.header?n("div",{staticClass:"modal-header"},[e._t("header")],2):e._e(),e._v(" "),n("div",{staticClass:"modal-body"},[e._t("body",[e._v("\n            default body\n          ")])],2),e._v(" "),n("hr"),e._v(" "),n("div",{staticClass:"modal-footer"},[e._t("footer",[n("a",{staticClass:"modal-default-button",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.$emit("close")}}},[e._v("\n              Close\n            ")])])],2)])])])},staticRenderFns:[]}},598:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{class:e.klass,style:e.style,attrs:{version:"1.1",role:e.label?"img":"presentation","aria-label":e.label,x:e.x,y:e.y,width:e.width,height:e.height,viewBox:e.box}},[e._t("default",[e.icon&&e.icon.paths?e._l(e.icon.paths,function(t,a){return n("path",e._b({key:"path-"+a},"path",t,!1))}):e._e(),e._v(" "),e.icon&&e.icon.polygons?e._l(e.icon.polygons,function(t,a){return n("polygon",e._b({key:"polygon-"+a},"polygon",t,!1))}):e._e(),e._v(" "),e.icon&&e.icon.raw?[n("g",{domProps:{innerHTML:e._s(e.raw)}})]:e._e()])],2)},staticRenderFns:[]}},599:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("modal",[n("h1",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.error?"Error":"Login"))]),e._v(" "),n("div",{staticClass:"body",attrs:{slot:"body"},slot:"body"},[e.error?n("div",[n("p",[e._v(e._s(e.error))])]):n("table",[n("tr",[n("td",[e._v("User:")]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.user,expression:"user"}],attrs:{type:"text",placeholder:"Enter your username"},domProps:{value:e.user},on:{input:function(t){t.target.composing||(e.user=t.target.value)}}})])]),e._v(" "),n("tr",[n("td",[e._v("Pasword:")]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Enter your password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})])])])]),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[e.error?n("a",{staticClass:"modal-default-button",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.cancel(t)}}},[e._v("\n      Ok\n    ")]):[n("a",{staticClass:"modal-default-button",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.submit(t)}}},[e._v("\n        Login\n      ")]),e._v(" "),n("a",{staticClass:"modal-default-button",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.cancel(t)}}},[e._v("\n        Cancel\n      ")])]],2)]):e._e()},staticRenderFns:[]}},600:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown"},[n("ul",{staticClass:"dropdown-content"},e._l(e.times,function(t){return n("li",{key:t.id},[n("span",{class:{selected:t===e.selectedTime},on:{click:function(n){return e.set(t)}}},[e._v(e._s(t.humanReadable))]),e._v(" "),n("br")])}),0)])},staticRenderFns:[]}},601:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.groups?n("ul",{attrs:{id:"layer-selector"}},[n("item",{staticClass:"item",attrs:{conf:e.groups}})],1):e._e()},staticRenderFns:[]}},602:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{danger:e.user.authenticated},attrs:{id:"header"}},[n("div",{attrs:{id:"title"}},[n("h1",{class:{hasSubtitle:e.$te("banner.subtitle")}},[e._v(e._s(e.$t("banner.title")))]),e._v(" "),e.$te("banner.subtitle")?n("h2",[e._v(e._s(e.$t("banner.subtitle")))]):e._e()]),e._v(" "),e.languages.length>1?n("ul",{staticClass:"buttons",attrs:{id:"languageLinks"}},e._l(e.languages,function(t){return n("li",{key:t.id},[t.id===e.selectedLanguage?n("span",{attrs:{href:"?lang="+t.id}},[e._v(e._s(t.label))]):n("a",{attrs:{href:"#"},on:{click:function(n){return e.setLanguage(t.id)}}},[e._v(e._s(t.label))])])}),0):e._e(),e._v(" "),n("ul",{staticClass:"buttons",attrs:{id:"tools"}},[e.user.authenticated?n("li",[n("a",{attrs:{id:"logout-button",href:"#"},on:{click:e.logout}},[e._v("Logout")])]):n("li",[n("a",{attrs:{href:"#"},on:{click:function(t){return e.showLoginDialog(!0)}}},[e._v("Admin")])]),e._v(" "),n("li",[n("a",{attrs:{href:"#"},on:{click:function(t){return t.stopPropagation(),e.enableFeedback(t)}}},[e._v(e._s(e.$t("banner.feedback")))])]),e._v(" "),n("li",[n("a",{attrs:{href:"#"},on:{click:e.enableUpload}},[e._v(e._s(e.$t("banner.uploadKml")))])]),e._v(" "),n("li",[n("a",{attrs:{href:"#"},on:{click:function(t){return t.stopPropagation(),e.toggleMeasure(t)}}},[e._v(e._s(e.$t("banner.measure")))])]),e._v(" "),e.printURL?n("li",[n("a",{attrs:{href:"#"},on:{click:function(t){return t.stopPropagation(),e.printMap(t)}}},[e._v("PDF")])]):e._e()]),e._v(" "),n("file-drop",{attrs:{show:e.showUpload},on:{disable:e.disableUpload}}),e._v(" "),n("login-modal",{attrs:{show:e.showLogin},on:{disable:function(t){return e.showLoginDialog(!1)}}})],1)},staticRenderFns:[]}},603:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.enableFeedback?n("div",{attrs:{id:"feedback"}},[e.categories.length?n("div",{attrs:{id:"feedback-category"}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedCategory,expression:"selectedCategory"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedCategory=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"",disabled:""}},[e._v(e._s(e.$t("feedback.selectCategory")))]),e._v(" "),e._l(e.categories,function(t){return n("option",{key:t.id},[e._v(e._s(t))])})],2)]):e._e(),e._v(" "),n("div",{attrs:{id:"tools"}},[e._v("\n    Draw:\n    "),e.drawOptions.includes("Point")?n("button",{staticClass:"small",class:{active:"Point"===e.draw},attrs:{type:"button"},on:{click:function(t){return e.setDrawTool("Point")}}},[e._v("Points")]):e._e(),e._v(" "),e.drawOptions.includes("Polygon")?n("button",{staticClass:"small",class:{active:"Polygon"===e.draw},attrs:{type:"button"},on:{click:function(t){return e.setDrawTool("Polygon")}}},[e._v("Polygons")]):e._e()]),e._v(" "),e.senderEmailIsRequired?n("div",{attrs:{id:"sender"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.senderEmail,expression:"senderEmail"}],attrs:{id:"message-sender",type:"email",name:"email",placeholder:"Write your email"},domProps:{value:e.senderEmail},on:{input:function(t){t.target.composing||(e.senderEmail=t.target.value)}}})]):e._e(),e._v(" "),n("div",{attrs:{id:"message"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],attrs:{id:"message-text",rows:"6",placeholder:"Write your message"},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}})]),e._v(" "),n("div",{attrs:{id:"buttons"}},[n("button",{staticClass:"small",attrs:{type:"button"},on:{click:e.disableFeedback}},[e._v("Cancel")]),e._v(" "),n("button",{staticClass:"small",attrs:{type:"button",disabled:!1===e.drew},on:{click:e.clear}},[e._v("Clear")]),e._v(" "),n("button",{staticClass:"small danger",attrs:{type:"button",disabled:e.disableSend},on:{click:e.sendFeedback}},[e._v("Send")])])]):e._e()},staticRenderFns:[]}},604:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("modal",{on:{close:function(t){return e.hideUploadPopup()}}},[n("div",{attrs:{slot:"body"},slot:"body"},[n("div",{attrs:{id:"dropTarget"}},[n("span",{attrs:{id:"dropText"},domProps:{innerHTML:e._s(e.$t("fileDrop.dropKml"))}})])])]):e._e()},staticRenderFns:[]}},605:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("modal",{attrs:{name:"stats-modal",draggable:!0,resizable:!0,minWidth:250,minHeight:220}},[n("div",{staticClass:"modal-container"},[n("h1",{staticClass:"modal-header"},[e._v(e._s(e.$t("featureInfo.info")))]),e._v(" "),n("iframe",{attrs:{width:"100%",height:"100%",src:e.statisticsUrl}})])]),e._v(" "),n("modal",{attrs:{name:"props-modal",draggable:!0,resizable:!0,minWidth:250,minHeight:220}},[n("div",{staticClass:"modal-container"},[n("h1",{staticClass:"modal-header"},[e._v(e._s(e.$t("featureInfo.attributes")))]),e._v(" "),n("div",{staticClass:"modal-body"},[n("table",e._l(e.popupAttributes,function(t){return n("tr",{key:t.id},[n("th",[e._v(e._s(t.label))]),e._v(" "),n("td",[e._v(e._s(t.value))])])}),0)])])]),e._v(" "),n("div",{staticClass:"ol-popup",attrs:{id:"popup"}},[n("a",{staticClass:"ol-popup-closer",attrs:{href:"#",id:"popup-closer"}}),e._v(" "),n("ul",{attrs:{id:"popup-content"}},[n("p",{staticClass:"caption"},[e._v(e._s(e.$t("featureInfo.moreData")))]),e._v(" "),e._l(e.statisticsConfs,function(t,a){return n("li",{key:a,staticClass:"statsLink",on:{click:function(n){return e.showStatistics(t,e.statisticsFeatures[a])}}},[e._v(e._s(e.statisticsLabels[a]))])})],2)])],1)},staticRenderFns:[]}},606:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.legendUrls,function(e,t){return n("div",{key:"legendUrl-"+t},[n("img",{attrs:{src:e}})])}),0)},staticRenderFns:[]}},607:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"result"},[n("div",{staticClass:"box"},[n("article",{staticClass:"media"},[n("div",{staticClass:"media-content"},[n("div",{staticClass:"content",on:{click:function(t){return e.clickHandler(e.result)}}},[n("p",[n("strong",[e._v(e._s(e.result.title))]),e._v(" "),n("br"),e._v("\n            "+e._s(e.result.fromtable)+"\n          ")])])])])])])},staticRenderFns:[]}},608:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.wfsSearchConfig&&e.wfsSearchConfig.layersToQuery?n("div",{attrs:{id:"search"}},[n("form",{on:{submit:function(t){return t.preventDefault(),e.noop(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchText,expression:"searchText"}],attrs:{type:"text"},domProps:{value:e.searchText},on:{keyup:e.goSearching,input:function(t){t.target.composing||(e.searchText=t.target.value)}}}),e._v(" "),n("br"),n("br")]),e._v(" "),e.results.length?n("div",{staticClass:"columns",attrs:{id:"search-results"}},[n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){e.results=[]}}},[n("span",{attrs:{"aria-hidden":"true"}},[e._v("×")])]),e._v(" "),n("div",{staticClass:"column"},e._l(e.results,function(t){return n("search-results",e._b({key:t.id},"search-results",{result:t,clickHandler:e.clickHandler},!1))}),1)]):e._e()]):e._e()},staticRenderFns:[]}},609:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.kmlOverlay?n("div",{attrs:{id:"outer"}},[n("div",{attrs:{id:"message"}},[n("button",{staticClass:"small",attrs:{id:"clearButton"},on:{click:e.clearFeedback}},[e._v(e._s(e.$t("kmlOverlay.clear")))])])]):e._e()},staticRenderFns:[]}},610:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("modal",{attrs:{name:"context-info-modal",draggable:!0,resizable:!0,minWidth:250,minHeight:220},on:{closed:e.resetState}},[n("div",{staticClass:"context-info-modal"},[n("button",{staticClass:"btn",on:{click:e.closeByName}},[e._v("X")]),e._v(" "),n("div",{staticClass:"content",domProps:{innerHTML:e._s(e.content)}}),e._v(" "),e.showDownloadLinks?n("div",{staticClass:"context-info-modal-download-links"},[n("div",[n("b",[e._v(e._s(e.layerInfo.label))])]),e._v(" "),n("br"),e._v(" "),n("button",{on:{click:e.requestEmailChange}},[e._v(e._s(e.$t("contextInfoModal.changeEmailLabel")))]),e._v(" "),n("br"),e._v(" "),n("table",[n("tbody",e._l(e.downloadLinksIntl,function(t){return n("tr",{key:t.url},[n("td",[n("a",{attrs:{href:t.url,target:"_blank",rel:"noopener noreferrer"},on:{click:function(n){return e.processDownloadLink(t)}}},[e._v(e._s(t.label))])])])}),0)])]):e._e(),e._v(" "),e.showEmailPrompt?n("div",{staticClass:"context-info-modal-email-content"},[n("h3",[e._v(e._s(e.$t("contextInfoModal.emailTitle")))]),e._v(" "),n("input",{class:{invalid:e.emailInvalid},attrs:{type:"text"},domProps:{value:e.email},on:{change:e.changeEmail}}),e._v(" "),n("button",{on:{click:e.validateEmailAndContinue}},[e._v(e._s(e.$t("contextInfoModal.submitDataLabel")))])]):e._e()])])},staticRenderFns:[]}},611:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"annotations"},[n("div",{staticClass:"annotations-button-panel"},[n("div",{staticClass:"annotations-title"},[e._v(e._s(e.$t("annotations.title")))]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.open,expression:"!open"}],staticClass:"button actions",on:{click:e.clearVector}},[n("icon",{attrs:{name:"trash"}})],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.open,expression:"!open"}],staticClass:"button actions",on:{click:e.toggleLayer}},[e.visible?n("icon",{attrs:{name:"eye"}}):n("icon",{attrs:{name:"eye-slash"}})],1),e._v(" "),n("div",{staticClass:"button",on:{click:e.togglePanel}},[e.open?n("icon",{attrs:{name:"angle-up"}}):n("icon",{attrs:{name:"angle-down"}})],1)]),e._v(" "),e.open?n("div",{staticClass:"annotations-panel"},[n("div",{staticClass:"geometry-types-selection"},e._l(e.geometryTypes,function(t,a){return n("div",{key:t,staticClass:"selector-button",class:{active:e.curGeomType===t,last:a===e.geometryTypes.length-1},on:{click:function(n){e.curGeomType=t}}},[e._v("\n        "+e._s(e.$t("annotations.geomTypes."+t))+"\n      ")])}),0),e._v(" "),n("div",{staticClass:"feature-list"})]):e._e(),e._v(" "),n("div",{staticClass:"ol-popup",attrs:{id:"popup"}},[n("span",{staticClass:"ol-popup-closer",on:{click:function(t){return e.displayPopup(!1)}}}),e._v(" "),n("div",{attrs:{id:"popup-content"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.featureText,expression:"featureText"}],attrs:{placeholder:"Add label",type:"text"},domProps:{value:e.featureText},on:{input:function(t){t.target.composing||(e.featureText=t.target.value)}}}),n("button",{staticClass:"f-label",on:{click:e.setFeatureStyle}},[e._v("Add")])])])])},staticRenderFns:[]}},612:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("mapPane"),e._v(" "),n("div",{attrs:{id:"left-container"}},[n("div",{staticClass:"layers"},[n("layerSelector"),e._v(" "),e.showConsole?n("editor-console"):e._e()],1),e._v(" "),n("annotations",{directives:[{name:"show",rawName:"v-show",value:this.$parent.loaded,expression:"this.$parent.loaded"}]})],1),e._v(" "),n("banner",{directives:[{name:"show",rawName:"v-show",value:this.$parent.loaded,expression:"this.$parent.loaded"}]}),e._v(" "),n("contextInfoModal"),e._v(" "),n("featureInfo"),e._v(" "),n("feedback"),e._v(" "),n("KMLOverlay"),e._v(" "),e.llLogos?n("Logos",{attrs:{id:"ll_logos",logosList:e.llLogos}}):e._e(),e._v(" "),n("measure"),e._v(" "),n("v-dialog"),e._v(" "),n("search")],1)},staticRenderFns:[]}},613:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",[e.conf.isGroup?n("div",{staticClass:"group",class:{dimmed:!e.nContexts},on:{click:e.toggleContent}},[n("span",{staticClass:"line icon"},[n("icon",{staticClass:"open-button",attrs:{name:e.open?"minus-square-o":"plus-square-o"}}),e._v(" "),n("span",{class:{handle:e.editing}},[e._v(e._s(e.isRoot?e.$t("layerSelector.layers"):e.label))])],1),e._v(" "),e.conf.infoFile?n("span",{staticClass:"info-link icon",on:{click:function(t){return t.stopPropagation(),e.showInfo(t)}}},[n("icon",{attrs:{name:"info-circle"}})],1):e._e(),e._v(" "),n("span",{staticClass:"counter"},[e._v(e._s(e.nActive?"‎["+e.locNActive+"‎]":null))]),e._v(" "),e.editing&&!e.isRoot?[n("span",{staticClass:"icon",on:{click:function(t){return t.stopPropagation(),e.editItem(t)}}},[n("icon",{staticClass:"icon edit",attrs:{name:"pencil-square-o"}})],1),e._v(" "),n("span",{staticClass:"icon",on:{click:function(t){return t.stopPropagation(),e.deleteItem(t)}}},[n("icon",{staticClass:"icon edit",attrs:{name:"trash-o"}})],1)]:e._e()],2):n("div",[e.hasLayers?n("span",{staticClass:"icon",on:{click:e.toggleContent}},[e.open?n("icon",{staticClass:"open-button",attrs:{name:"caret-down"}}):n("icon",{staticClass:"open-button",attrs:{name:"caret-right"}})],1):e._e(),e._v(" "),e.hasLayers?n("span",{staticClass:"icon",on:{click:e.toggleActive}},[e.conf.parent.exclusive?[e.active?n("icon",{staticClass:"activate-button",class:{highlighted:e.highlighted,active:e.active},attrs:{name:"dot-circle-o"}}):n("icon",{staticClass:"activate-button",class:{highlighted:e.highlighted,active:e.active},attrs:{name:"circle"}})]:[e.active?n("icon",{staticClass:"activate-button",class:{highlighted:e.highlighted,active:e.active},attrs:{name:"check-square"}}):n("icon",{staticClass:"activate-button",class:{highlighted:e.highlighted,active:e.active},attrs:{name:"square"}})]],2):e._e(),e._v(" "),e.conf.hasLegends?n("span",{staticClass:"icon",staticStyle:{"padding-left":"2px","padding-right":"2px"},on:{click:e.toggleLegend}},[n("icon",{staticClass:"legend-link",class:{active:e.active},attrs:{name:"th-list"}})],1):e._e(),e._v(" "),e.conf.inlineLegendUrl?n("img",{staticClass:"inline-legend",attrs:{src:e.conf.inlineLegendUrl}}):e._e(),e._v(" "),n("span",{class:{dimmed:!e.hasLayers,handle:e.editing},on:{mouseover:function(t){return e.highlightContext(!0)},mouseout:function(t){return e.highlightContext(!1)},click:e.toggleActive}},[e._v(e._s(e.label))]),e._v(" "),e.conf.infoFile?n("span",{staticClass:"info-link icon",on:{click:e.showInfo}},[n("icon",{attrs:{name:"info-circle"}})],1):e._e(),e._v(" "),this.conf.times&&this.conf.times.length?n("span",{staticClass:"times-button icon",class:{active:e.showTimeMenu},on:{click:e.toggleTimeMenu}},[n("icon",{attrs:{name:"clock-o"}}),e._v(" "+e._s(e.selectedTime.humanReadable)+"\n    ")],1):e._e(),e._v(" "),e.hasStatistics?n("span",{staticClass:"icon statistics",attrs:{title:e.$t("item.statisticsAvailable")}},[n("icon",{attrs:{name:"bar-chart"}})],1):e._e(),e._v(" "),e.hasDataDownload?n("span",{staticClass:"icon datadownload info-link",attrs:{title:e.$t("item.downloadAvailable")},on:{click:e.showDownloads}},[n("icon",{attrs:{name:"download"}})],1):e._e(),e._v(" "),e.showTimeMenu?n("time-select",{attrs:{times:e.conf.times,selectedTime:e.selectedTime},on:{setTime:e.setTime}}):e._e(),e._v(" "),e.editing?[n("span",{staticClass:"icon",on:{click:function(t){return t.stopPropagation(),e.editItem(t)}}},[n("icon",{staticClass:"icon edit",attrs:{name:"pencil-square-o"}})],1),e._v(" "),n("span",{staticClass:"icon",on:{click:function(t){return t.stopPropagation(),e.deleteItem(t)}}},[n("icon",{staticClass:"icon edit",attrs:{name:"trash-o"}})],1)]:e._e(),e._v(" "),e.open?n("div",{staticStyle:{"padding-left":"21px"}},[n("icon",{attrs:{name:"adjust"}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.opacity,expression:"opacity"}],staticClass:"slider",attrs:{type:"range",min:"0",max:"1",step:"0.01"},domProps:{value:e.opacity},on:{input:e.updateOpacity,__r:function(t){e.opacity=t.target.value}}})],1):e._e(),e._v(" "),e.conf.hasLegends&&e.active&&e.showLegend?[n("context-legend",{attrs:{conf:e.conf}})]:e._e()],2),e._v(" "),e.editing?[e.conf.isGroup?n("draggable",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}],staticStyle:{"min-height":"10px"},attrs:{element:"ul",options:{group:"items",draggable:".item",animation:150,handle:".handle"}},model:{value:e.list,callback:function(t){e.list=t},expression:"list"}},e._l(e.list,function(e){return n("item",{key:e.id,staticClass:"item unselectable",attrs:{conf:e}})}),1):e._e()]:[e.conf.isGroup?n("ul",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}],staticStyle:{"min-height":"10px"}},e._l(e.list,function(e){return n("item",{key:e.id,staticClass:"item unselectable",attrs:{conf:e}})}),1):e._e()]],2)},staticRenderFns:[]}},614:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hidden",attrs:{id:"measureOptions"}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.toolTypeSelected,expression:"toolTypeSelected"}],staticClass:"hidden",attrs:{id:"measureToolType"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.toolTypeSelected=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"length"}},[e._v("Length (LineString)")]),e._v(" "),n("option",{attrs:{value:"area"}},[e._v("Area (Polygon)")])])])},staticRenderFns:[]}},616:function(e,t){e.exports={layout:"A4 portrait",srs:"EPSG:3857",units:"meters",geodetic:!0,outputFilename:"map",outputFormat:"pdf",layers:[{type:"WMS",layers:["unredd:provinces"],baseURL:"http://147.135.130.114/geoserver/wms?",format:"image/png"}],pages:[{mapTitle:"This is the title",center:[-8237642.319,4968191.93],scale:25e3,dpi:150,geodetic:!1,strictEpsg4326:!1}],legends:[{classes:[{icons:["http://www.rdc-snsf.org/portal/static/loc/en/images/ucl_2010.png"],name:""}],name:"a class name"}]}},617:function(e,t,n){n(306),e.exports=n(307)},75:function(e,t,n){"use strict";var a=n(93),i=n.n(a);t.a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return new i.a(function(i,o){var r=new XMLHttpRequest;r.open(e,t),a.forEach(function(e){r.setRequestHeader.apply(r,e)}),r.onreadystatechange=function(){4===this.readyState&&(this.status>=200&&this.status<300?i(this.responseText):o({status:this.status,statusText:this.responseText||"Error getting data from "+t}))},r.send(n)})}},77:function(e,t,n){"use strict";var a=n(93),i=n.n(a),o=n(115),r=n.n(o),s=n(75),l=n(29);n.n(l);t.a={user:{authenticated:!1},login:function(e,t){var a=this,o=l.layersConfigApi.baseUrl+l.layersConfigApi.loginUrl;return n.i(s.a)("POST",o,r()(e),[["Content-Type","application/json"]]).then(function(e){var t=JSON.parse(e);return localStorage.setItem("id_token",t.id_token),a.user.authenticated=!0,i.a.resolve(a.user)}).catch(function(e){return i.a.reject(e)})},logout:function(){localStorage.removeItem("id_token"),this.user.authenticated=!1},checkAuth:function(){var e=localStorage.getItem("id_token");this.user.authenticated=!!e},getAuthHeader:function(){return{Authorization:"Bearer "+localStorage.getItem("id_token")}},getAuthToken:function(){return"Bearer "+localStorage.getItem("id_token")}}},9:function(e,t,n){function a(e){n(441)}var i=n(12)(n(356),n(598),a,null,null);e.exports=i.exports}},[617]);
//# sourceMappingURL=app.dedc0f4102b316bc2753.js.map