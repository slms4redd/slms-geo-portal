webpackJsonp([2],{151:function(e,t,n){"use strict";function a(e,t){e=e||[];var n=[];return e.forEach(function(e){e.language&&n.push({language:e.language,label:e.label||t})}),i.languages.forEach(function(e){n.find(function(t){return t.language===e.id})||n.push({language:e.id,label:t})}),n}t.a=a;var i=n(30);n.n(i)},157:function(e,t,n){"use strict";var a=n(224),i=n.n(a),o=n(80),s=n.n(o),r=n(158),c=n.n(r),l=n(228),u=n.n(l),d=n(227),f=n.n(d),p=n(218),h=function(e){function t(e,n){s()(this,t);var a=u()(this,(t.__proto__||i()(t)).call(this,e));a.originalId=e.id,a.active=!!e.active;var o=function(e,t){return e.find(function(e){return e.originalId===t})},r=e.layers&&e.layers.map(function(e){return o(n,e)}).filter(function(e){return!!e});return a.layers=r||[],a.inlineLegendUrl=e.inlineLegendUrl||null,a.opacity=e.opacity||1,a}return f()(t,e),c()(t,[{key:"legend",value:function(e){return this.layers.map(function(t){var n=null;if(t.legend)if("wms"===t.legend.type){var a=t.legend.style.replace("$(_lang)",e);n=t.serverUrls[0]+"?LEGEND_OPTIONS=fontColor:ffffff;fontAntiAliasing:true\n&LAYER="+t.name+"&STYLE="+a+"&REQUEST=GetLegendGraphic&VERSION=1.0.0&FORMAT=image/png&WIDTH=18&HEIGHT=18&TRANSPARENT=true"}else n=t.legend.url;else if(t.styles){var i=t.styles.find(function(t){return t.language===e}),o=i?i.label:null;n=t.serverUrls[0]+"?LEGEND_OPTIONS=fontColor:ffffff;fontAntiAliasing:true\n&LAYER="+t.name+"&STYLE="+o+"&REQUEST=GetLegendGraphic&VERSION=1.0.0&FORMAT=image/png&WIDTH=18&HEIGHT=18&TRANSPARENT=true"}return n}).filter(function(e){return e})}},{key:"hasLegends",get:function(){return this.layers.some(function(e){return e.legend||e.styles&&e.styles.some(function(e){return e.label})})}}]),t}(p.a);t.a=h},210:function(e,t,n){function a(e){n(459)}var i=n(11)(n(389),n(628),a,"data-v-3b0b80fc",null);e.exports=i.exports},211:function(e,t,n){"use strict";function a(){return new v.a(function(e,t){var a=C.layersConfigApi.baseUrl+C.layersConfigApi.getLayersConfigUrl;n.i(w.a)("GET",a).then(function(t){return e(new S(JSON.parse(t)))}).catch(function(e){return t(e.statusText||e.message)})})}function i(e,t){var n=e.recReduce(function(e,t){return e.concat(t)},[]),a=e.recReduce(function(e,t){return[].concat.apply(e,t.layers)},[]);a=t.map(function(e){return a.find(function(t){return t.id===e})}).filter(function(e){return e});var i=function(e,t){switch(e){case"originalId":case"urls":case"opacity":return;case"serverUrls":return t||void 0;case"legend":case"sourceLink":case"sourceLabel":return t||void 0;case"times":var n=t.map(function(e){return e.iso8601});return n&&n.length?n:void 0;case"styles":var a=t.map(function(e){return e.label?e:null}).filter(function(e){return!!e});return a.length?a:void 0;default:return t}},o=JSON.parse(h()(a,i)),s=function(e,t){switch(e){case"layers":return t.length?t.map(function(e){return e.id}):void 0;case"inlineLegendUrl":case"infoFile":return t||void 0;case"parent":case"hasLegends":case"times":case"originalId":return;default:return t}},r=JSON.parse(h()(n,s)),c=function(e,t){switch(e){case"":return{exclusive:t.exclusive,items:t.items};case"id":case"parent":return;case"infoFile":return t||void 0;case"items":if(0===t.length)return;return t.map(function(e){return e.isGroup?{group:e}:{context:e.id}});default:return t}},l=JSON.parse(h()(e,c)),u={$schema:"../../layersJsonSchema_v2.json",layers:o,contexts:r,group:l};return h()(u)}function o(e,t){var a=C.layersConfigApi.baseUrl+C.layersConfigApi.saveLayersConfigUrl;return n.i(w.a)("POST",a,i(e,t),[["Content-Type","application/json"],["Authorization",_.a.getAuthToken()]])}function s(){return new v.a(function(e,t){var a=C.layersConfigApi.baseUrl+C.layersConfigApi.getLayersConfigHistoryUrl;n.i(w.a)("GET",a,null,[["Authorization",_.a.getAuthToken()]]).then(function(t){return e(JSON.parse(t))}).catch(function(e){return t(e)})})}function r(e){var t=C.layersConfigApi.baseUrl+C.layersConfigApi.restoreVersionUrl+"?version="+e;return n.i(w.a)("GET",t,null,[["Authorization",_.a.getAuthToken()]])}function c(e,t,n,a){var i=[1128,2256,4513,9027,18055,36111,72223,144447,288895,577790,1155581,2311162,4622324,9244649,18489298,36978596,73957193,147914387,295828775,591657550],o=Math.round(39.37*90*T.a.getView().getResolution()),s=i.find(function(e){return e>=o})||i.slice(-1)[0];E.a.pages[0].center=T.a.getView().getCenter(),E.a.pages[0].scale=s;var r=e.filter(function(e){return!!e.visible});if(r.length){var c=r.reduce(function(e,t){switch(t.type){case"osm":case"bing-aerial":case"google":case"esri":return e.push([t]),e;case"wms":e.length||e.push([]);var n=e[e.length-1];return!n.length||"wms"===n[0].type&&n[0].serverUrls[0]!==t.serverUrls[0]?(n.unshift(t),e):(e.push([t]),e)}},[]);c=[].concat.apply([],c);var l={maxExtent:[-20037508.3392,-20037508.3392,20037508.3392,20037508.3392],tileSize:[256,256],resolutions:[156543.0339,78271.51695,39135.758475,19567.8792375,9783.93961875,4891.969809375,2445.9849046875,1222.99245234375,611.496226171875,305.7481130859375,152.87405654296876,76.43702827148438,38.21851413574219,19.109257067871095,9.554628533935547,4.777314266967774,2.388657133483887,1.1943285667419434,.5971642833709717],singleTile:!1},d=function(e){return e&&e.startsWith("/")?C.map.defaultGeoServerURLs[0]:e};E.a.layers=c.map(function(e){if(!e.visible)return null;switch(e.type){case"wms":return{type:"wms",layers:[e.name],baseURL:d(e.serverUrls[0]),format:e.imageFormat};case"osm":return f()({},l,{type:"OSM",baseURL:"http://a.tile.openstreetmap.org/",extension:"png"});case"esri":return f()({},l,{type:"XYZ",baseURL:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile",extension:"jpg",path_format:"/${z}/${y}/${x}"});default:return null}}).filter(function(e){return!!e}),a&&(E.a.layers=[].concat(u()(E.a.layers),[{type:"Vector",name:"Annotations",opacity:1,styleProperty:"vector_style",styles:{},geoJson:a}]));var p=[];return E.a.legends=t.forEach(function(e){var t=e.labels.find(function(e){return e.language===n}).label;if(e.inlineLegendUrl)p.push({classes:[{icons:[e.inlineLegendUrl],name:""}],name:t});else if(e.hasLegends){var a={classes:[],name:t};e.layers.forEach(function(e){if(e.legend)switch(e.legend.type){case"url":e.legend.url.startsWith("http://")||e.legend.url.startsWith("https://")?a.classes.push({icons:[e.legend.url],name:""}):a.classes.push({icons:[window.location.origin+window.location.pathname+e.legend.url],name:""});break;case"wms":var t=void 0;if(e.legend)t=e.legend.style.replace("$(_lang)",n);else if(e.styles){var i=e.styles.find(function(e){return e.language===n});t=i?i.label:null}var o=d(e.serverUrls[0])+"?LEGEND_OPTIONS=fontColor:000000;fontAntiAliasing:true&LAYER="+e.name+"&STYLE="+t+"&REQUEST=GetLegendGraphic&VERSION=1.0.0&FORMAT=image/png&WIDTH=18&HEIGHT=18&TRANSPARENT=true";a.classes.push({icons:[o],name:""});break;default:return}}),p.push(a)}}),E.a.legends=p.filter(function(e){return!!e}),E.a}}t.d=a,t.b=o,t.a=s,t.e=r,t.c=c;var l=n(229),u=n.n(l),d=n(20),f=n.n(d),p=n(123),h=n.n(p),g=n(97),v=n.n(g),m=n(80),y=n.n(m),w=n(77),_=n(79),b=n(327),x=n(157),k=n(217),C=n(30),L=(n.n(C),n(647)),E=n.n(L),T=n(54),S=function e(t){var n=this;y()(this,e);var a=t.layers.map(function(e){return new b.a(e)}),i=t.contexts.map(function(e){return new x.a(e,a)});this.groups=new k.a(t.group,i,null),this.contexts=i.filter(function(e){return n.groups.findById(e.id)}),this.layers=a.filter(function(e){return n.contexts.some(function(t){return-1!==t.layers.indexOf(e)})}),this.contexts.forEach(function(e){e.layers.forEach(function(t){t.opacity=e.opacity})})}},216:function(e,t,n){"use strict";function a(e){return!!e&&Array===e.constructor}var i=n(98),o=n.n(i),s=n(97),r=n.n(s),c=n(222),l=n.n(c),u=n(77),d={state:{locale:null,fallback:null,translations:{}},mutations:{SET_LOCALE:function(e,t){var n=t.locale;e.locale=n},ADD_LOCALE:function(e,t){var n=t.locale,a=t.translations;e.translations[n]=f(a);try{e.translations.__ob__&&e.translations.__ob__.dep.notify()}catch(e){}},REMOVE_LOCALE:function(e,t){var n=t.locale;if(e.translations.hasOwnProperty(n)){e.locale===n&&(e.locale=null);var a=l()({},e.translations);delete a[n],e.translations=a}},SET_FALLBACK_LOCALE:function(e,t){var n=t.locale;e.fallback=n}},actions:{setLocale:function(e,t){e.commit({type:"SET_LOCALE",locale:t.locale})},addLocale:function(e,t){var n=t.locale,a=t.translations;e.commit({type:"ADD_LOCALE",locale:n,translations:a})},loadLocale:function(e,t){var a=e.dispatch,i=t.locale,o=t.url;return n.i(u.a)("GET",o).then(function(e){return a("addLocale",{locale:i,translations:JSON.parse(e)}),r.a.resolve()}).catch(function(e){return r.a.reject(e)})},removeLocale:function(e,t){var n=t.locale,a=t.translations;e.commit({type:"REMOVE_LOCALE",locale:n,translations:a})},setFallbackLocale:function(e,t){var n=t.locale;e.commit({type:"SET_FALLBACK_LOCALE",locale:n})}}},f=function e(t){var n={};for(var i in t)if(t.hasOwnProperty(i)){var s=t[i];if(a(s))s.find(function(e){return"string"!=typeof e})&&console.warn("i18n:","currently only arrays of strings are supported",s),n[i]=s;else if("object"===(void 0===s?"undefined":o()(s))&&null!==s){var r=e(s);for(var c in r)r.hasOwnProperty(c)&&(n[i+"."+c]=r[c])}else n[i]=s}return n};t.a=d},217:function(e,t,n){"use strict";var a=n(224),i=n.n(a),o=n(80),s=n.n(o),r=n(228),c=n.n(r),l=n(227),u=n.n(l),d=n(218),f=n(157),p=function(e){function t(e,n,a){s()(this,t);var o=c()(this,(t.__proto__||i()(t)).call(this,e));return o.parent=a,o.exclusive=!!e.exclusive,e.exclusive&&(void 0===e.allowDisableAll?o.allowDisableAll=!0:o.allowDisableAll=!!e.allowDisableAll),o.items=(e.items||[]).map(function(e){if(void 0!==e.context){var a=n.find(function(t){return t.originalId===e.context})||new f.a({id:e.context,label:e.context});return a.parent=o,a}return e.group&&new t(e.group,n,o)}),o}return u()(t,e),t}(d.a);t.a=p},218:function(e,t,n){"use strict";var a=n(80),i=n.n(a),o=n(158),s=n.n(o),r=n(151),c=function(){function e(t){i()(this,e),this.id=e.nextId++,this.infoFile=t.infoFile||null,this.labels=n.i(r.a)(t.labels)}return s()(e,[{key:"recReduce",value:function(e,t){return this.items.reduce(function(t,n){return n.isGroup?n.recReduce(e,t):e(t,n)},t)}},{key:"findById",value:function(e){return this.id===e?this:this.isGroup&&this.items.reduce(function(t,n){return t||n.findById(e)},null)}},{key:"isGroup",get:function(){return!!this.items}}]),e}();c.nextId=0,t.a=c},219:function(e,t,n){"use strict";var a=n(123),i=n.n(a),o=n(59),s=n.n(o),r=n(30),c=(n.n(r),n(211));t.a={enableFeedback:function(e){e.commit("enable_feedback",{enable:!0})},enableUpload:function(e){e.commit("show_file_drop_modal",{show:!0})},showLogin:function(e){e.commit("show_login_modal",{show:!0})},toggleMeasure:function(e){e.commit("toggle_measure",{enable:!0})},setLanguage:function(e){s.a.i18n.load(e,"static/configuration/locale/"+e+".json").then(function(t){s.a.i18n.set(e)}).catch(function(e){return alert("Error loading language file: "+e)})},printMap:function(e,t,a,o){e.commit("set_printing_in_progress",{inProgress:!0});var l=n.i(c.c)(t,a,s.a.i18n.locale(),o),u=r.printApi.url,d=new XMLHttpRequest;d.open("POST",u,!0),d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),d.responseType="blob",d.onload=function(){if(200===d.status){var t=d.getResponseHeader("content-disposition"),n=/"([^"]*)"/.exec(t),a=null!=n&&n[1]?n[1]:"map.pdf",i=new Blob([d.response],{type:"application/pdf"}),o=document.createElement("a");o.href=window.URL.createObjectURL(i),o.download=a,document.body.appendChild(o),o.click(),document.body.removeChild(o)}e.commit("set_printing_in_progress",{inProgress:!1})},d.send("spec="+encodeURIComponent(i()(l)))}}},30:function(e,t){e.exports=globalConf},321:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(226),i=n.n(a),o=n(20),s=n.n(o),r=n(124),c=n.n(r),l=n(605),u=n.n(l),d=n(353),f=n(59),p=n.n(f),h=n(604),g=n.n(h),v=n(9),m=n.n(v),y=n(79),w=n(351),_=n(30),b=(n.n(_),n(587)),x=n.n(b),k=n(591),C=n.n(k),L=n(588),E=n.n(L),T=n(586),S=n.n(T),M=n(592),P=n.n(M),I=n(593),A=n.n(I),F=n(589),O=n.n(F),$=n(590),z=n.n($),R=[["kml",x.a],["pdf",C.a],["layers",E.a],["feedback",S.a],["ruler",P.a],["user",A.a],["login",O.a],["logout",z.a]];m.a.register(R.reduce(function(e,t){var n=c()(t,2),a=n[0],o=n[1];return s()({},e,i()({},"slms-"+a,{width:512,height:512,raw:o}))},{}));var U=function(){var e={};return window.location.search.substring(1).split("&").map(function(e){return e.split("=")}).forEach(function(t){var n=c()(t,2),a=n[0],i=n[1];e[a]?"string"==typeof e[a]?e[a]=[e[a],decodeURIComponent(i)]:e[a].push(decodeURIComponent(i)):e[a]=decodeURIComponent(i)}),e}();p.a.use(g.a,{dialog:!0,dynamic:!0,injectModalsContainer:!0}),p.a.use(w.a.plugin,d.a);var D=_.languages.map(function(e){return e.id}),G=D[0],N=navigator.language||navigator.userLanguage;-1!==D.indexOf(U.lang)?G=U.lang:N&&-1!==D.indexOf(N)&&(G=N),p.a.i18n.set(G);var H=new p.a({el:"#app",data:{loaded:!1},store:d.a,render:function(e){return e(u.a)}});p.a.i18n.load(G,"static/configuration/locale/"+G+".json").then(function(){H.loaded=!0}).catch(function(e){return alert("Error loading language file: "+e)}),y.a.checkAuth()},322:function(e,t){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){"use strict";if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),a=n.length>>>0,i=arguments[1],o=0;o<a;o++)if(t=n[o],e.call(i,t,o,n))return t}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var a=arguments[1],i=0;i<n;){var o=t[i];if(e.call(a,o,i,t))return i;i++}return-1}})},327:function(e,t,n){"use strict";var a=n(80),i=n.n(a),o=n(151),s=n(30),r=(n.n(s),function e(t){if(i()(this,e),this.id=e.nextId++,this.originalId=t.id,this.type=t.type||"wms",this.opacity=1,"wms"===this.type){this.serverUrls=t.serverUrls||s.map.defaultGeoServerURLs,this.name=t.wmsName||t.name||null,this.styles=n.i(o.a)(t.styles),this.imageFormat=t.imageFormat||"image/png8",this.legend=t.legend||null,this.wmsType=t.wmsType||"tiled";var a=t.times||[];this.times=a.map(function(e){return{iso8601:e,humanReadable:e}}),this.statistics=t.statistics&&t.statistics.map(function(e){var t={type:e.type,labels:e.labels};switch(e.type){case"url":t.url=e.url;break;case"attributes":t.attributes=e.attributes&&e.attributes.map(function(e){return{attribute:e.attribute,labels:e.labels||e.attribute}});break;default:throw new Error("Unsupported statistics type: "+e.type)}return t}),this.downloadLinks=t.downloadLinks}this.visible=!1!==t.visible,this.sourceLink=t.sourceLink||null,this.sourceLabel=t.sourceLabel||null});r.nextId=0,t.a=r},349:function(e,t,n){"use strict";function a(e){return!!e&&Array===e.constructor}var i=n(98),o=n.n(i),s=n(216),r=n(350),c={};c.install=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"i18n",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:["{","}"];if(t.registerModule(n,s.a),!t.state.hasOwnProperty(n))return console.error("i18n vuex module is not correctly initialized. Please check the module name:",n),e.prototype.$i18n=function(e){return e},e.prototype.$getLanguage=function(){return null},void(e.prototype.$setLanguage=function(){return console.error("i18n vuex module is not correctly initialized")});var i=l(a),o=function(){var e=t.state[n].locale;return r.apply(void 0,[e].concat(Array.prototype.slice.call(arguments)))},r=function(e){var a="",o="",s={},r=null,c=arguments.length;c>=3&&"string"==typeof arguments[2]?(a=arguments[1],o=arguments[2],c>3&&(s=arguments[3]),c>4&&(r=arguments[4])):(a=arguments[1],o=a,c>2&&(s=arguments[2]),c>3&&(r=arguments[3]));var l=t.state[n].translations,u=t.state[n].fallback,d=e.split("-"),f=!0;return l.hasOwnProperty(e)?l[e].hasOwnProperty(a)||(f=!1):f=!1,f?i(e,l[e][a],s,r):d.length>1&&l.hasOwnProperty(d[0])&&l[d[0]].hasOwnProperty(a)?i(d[0],l[d[0]][a],s,r):l.hasOwnProperty(u)?l[u].hasOwnProperty(a)?i(e,l[u][a],s,r):i(u,o,s,r):i(e,o,s,r)},c=function(e){var a=t.state[n].locale,i=t.state[n].fallback,o=t.state[n].translations;return o.hasOwnProperty(a)?o[a].hasOwnProperty(e):!!o.hasOwnProperty(i)&&o[i].hasOwnProperty(e)},u=function(e){t.dispatch({type:"setFallbackLocale",locale:e})},d=function(e){t.dispatch({type:"setLocale",locale:e})},f=function(){return t.state[n].locale},p=function(e,n){return t.dispatch({type:"addLocale",locale:e,translations:n})},h=function(e,n){return t.dispatch({type:"loadLocale",locale:e,url:n})},g=function(e){t.state[n].translations.hasOwnProperty(e)&&t.dispatch({type:"removeLocale",locale:e})},v=function(e){return t.state[n].translations.hasOwnProperty(e)};e.prototype.$i18n={locale:f,set:d,add:p,load:h,remove:g,fallback:u,localeExists:v,keyExists:c},e.i18n={locale:f,set:d,add:p,load:h,remove:g,fallback:u,translate:o,translateIn:r,localeExists:v,keyExists:c},e.prototype.$t=o,e.prototype.$te=c,e.prototype.$tlang=r,e.filter("translate",o)};var l=function(e){null!=e&&2===e.length||console.warn("You must specify the start and end character identifying variable substitutions");var t=new RegExp(e[0]+"\\w+"+e[1],"g"),n=function(n,a){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n.replace?n.replace(t,function(t){var o=t.replace(e[0],"").replace(e[1],"");return void 0!==a[o]?a[o]:(i&&(console.group("Not all placeholders found"),console.warn("Text:",n),console.warn("Placeholder:",t),console.groupEnd()),t)}):n};return function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=void 0===t?"undefined":o()(t),l=void 0===s?"undefined":o()(s),u=function(){return a(t)?t.map(function(e){return n(e,i,!1)}):"string"===c?n(t,i,!0):void 0};if(null===s)return u();if("number"!==l)return console.warn("pluralization is not a number"),u();var d=u().split(":::"),f=r.a.getTranslationIndex(e,s);return void 0===d[f]?(console.warn("no pluralized translation provided in ",t),d[0].trim()):d[f].trim()}};t.a=c},350:function(e,t,n){"use strict";t.a={getTranslationIndex:function(e,t){switch(e){case"ay":case"bo":case"cgg":case"dz":case"fa":case"id":case"ja":case"jbo":case"ka":case"kk":case"km":case"ko":case"ky":case"lo":case"ms":case"my":case"sah":case"su":case"th":case"tt":case"ug":case"vi":case"wo":case"zh":return 0;case"is":return t%10!=1||t%100==11?1:0;case"jv":return 0!==t?1:0;case"mk":return 1===t||t%10==1?0:1;case"ach":case"ak":case"am":case"arn":case"br":case"fil":case"fr":case"gun":case"ln":case"mfe":case"mg":case"mi":case"oc":case"pt_BR":case"tg":case"ti":case"tr":case"uz":case"wa":case"zh":return t>1?1:0;case"lv":return t%10==1&&t%100!=11?0:0!==t?1:2;case"lt":return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2;case"mnk":return 0===t?0:1===t?1:2;case"ro":return 1===t?0:0===t||t%100>0&&t%100<20?1:2;case"pl":return 1===t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2;case"cs":case"sk":return 1===t?0:t>=2&&t<=4?1:2;case"csb":return 1===t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2;case"sl":return t%100==1?0:t%100==2?1:t%100==3||t%100==4?2:3;case"mt":return 1===t?0:0===t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3;case"gd":return 1===t||11===t?0:2===t||12===t?1:t>2&&t<20?2:3;case"cy":return 1===t?0:2===t?1:8!==t&&11!==t?2:3;case"kw":return 1===t?0:2===t?1:3===t?2:3;case"ga":return 1===t?0:2===t?1:t>2&&t<7?2:t>6&&t<11?3:4;case"ar":return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5;default:return 1!==t?1:0}}}},351:function(e,t,n){"use strict";var a=n(216),i=n(349);t.a={store:a.a,plugin:i.a}},352:function(e,t,n){"use strict";var a=n(20),i=n.n(a),o=n(80),s=n.n(o),r=n(158),c=n.n(r),l=n(201),u=n(192),d=n(30),f=(n.n(d),n(215)),p=[],h=function(){function e(){s()(this,e)}return c()(e,null,[{key:"createOlLayer",value:function(e,t){var n=void 0,a=void 0;switch(e.type){case"osm":n=new l.b;break;case"bing-aerial":n=new l.c({key:d.map.bingMapsKey,imagerySet:"Aerial"});break;case"esri":n=new l.d({attributions:'Tiles Â© <a href="https://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer">ArcGIS</a>',url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}"});break;case"google":return new f.a({mapTypeId:"satellite"});default:var o=[],s=e.sourceLabel,r=e.sourceLink,c=s||r,h=e.wmsType||"tiled";if(c){var g=p[c];g||(g=r?'<a target="_blank" href="'+r+'">'+c+"</a>":s),p[c]=g,o.push(g)}var v=e.styles&&e.styles.find(function(e){return e.language===t}).label,m={urls:e.serverUrls,params:{LAYERS:e.name,STYLES:v||void 0,VERSION:"1.3.0",FORMAT:e.imageFormat,WIDTH:256,HEIGHT:256,CRS:"EPSG:3857"},serverType:"geoserver",attributions:o};"single"===h?(n=new l.e(i()({},m,{url:e.serverUrls[0],ratio:1})),a=h):n=new l.f(i()({},m,{params:i()({},m.params,{TILED:!0,tilesorigin:"-20037508.34,-20037508.34"})}))}if(n){var y={visible:!1,source:n,opacity:e.opacity||1};return a?new u.b(y):new u.c(y)}}}]),e}();t.a=h},353:function(e,t,n){"use strict";var a=n(124),i=n.n(a),o=n(20),s=n.n(o),r=n(225),c=n.n(r),l=n(59),u=n.n(l),d=n(26),f=n(211),p=n(151),h=n(157),g=n(217),v=n(140);u.a.use(d.c);var m=function(e){var t=[];e.contexts.forEach(function(e){var n=e.layers.filter(function(e){return"wms"===e.type&&e.times.length}).reduce(function(e,t){return e.concat(t.times)},[]).filter(function(e,t,n){return n.findIndex(function(t){return t.iso8601===e.iso8601})===t}).sort(function(e,t){return Date.parse(e.iso8601)-Date.parse(t.iso8601)});e.times=n,n&&n.length&&(t[e.id]=e.times[e.times.length-1])}),e.contextsTimes=t},y={vector_style:{label:"",fontColor:"#fff",fontFamily:"sans-serif",fontSize:"12px",fontStyle:"normal",fontWeight:"bold",strokeColor:"#ffcc33",strokeOpacity:1,strokeWidth:2,fillColor:"#ffffff",fillOpacity:.2,strokeDashstyle:"solid"}},w={layers:[],contexts:[],groups:null,annotations:{visible:!1},layerInfo:null,contextsTimes:[],kmlOverlay:null,enableFeedback:!1,measureActive:!1,activeContextsIds:[],activeTool:null,appMode:"desktop",editing:!1,editGroup:null,editContext:null,editLayers:!1,showFileDropModal:!1,showLoginModal:!1,showUserPanel:!1,enablePrint:!1,printingInProgress:!1},_={enable_edit:function(e,t){var n=t.editing;e.editing=n},add_group:function(e){var t=new g.a({labels:n.i(p.a)(null,"New group")},[],e.groups);e.groups.items.push(t)},add_context:function(e){var t=new h.a({labels:n.i(p.a)(null,"New context")});t.parent=e.groups,t.times=[],e.groups.items.push(t),e.contexts.push(t)},edit_item:function(e,t){var n=t.id,a=e.groups.findById(n);a?a.isGroup?e.editGroup=a:e.editContext=a:e.editContext=e.editGroup=null},delete_item:function(e,t){var n=t.id,a=e.groups.findById(n),i=a.parent.items.findIndex(function(e){return e.id===n});i>-1&&a.parent.items.splice(i,1)},edit_layers:function(e,t){var n=t.edit;e.editLayers=n},save_group:function(e,t){var n=t.id,a=t.labels,i=t.exclusive,o=t.allowDisableAll,s=t.infoFile,r=e.groups.findById(n);r.labels=a,r.exclusive=i,r.allowDisableAll=o,r.infoFile=s},save_context:function(e,t){var n=t.id,a=t.label,i=t.labels,o=t.infoFile,s=t.active,r=t.inlineLegendUrl,c=t.layerIds,l=e.groups.findById(n);l.label=a,l.labels=i,l.infoFile=o,l.active=s,l.inlineLegendUrl=r,l.layers=c.map(function(t){return e.layers.find(function(e){return e.id===t})}),m(e)},receive_layers:function(e,t){var n=t.layersConf;e.layers=n.layers,e.contexts=n.contexts,e.groups=n.groups,m(e),e.activeContextsIds=e.contexts.reduce(function(e,t){return t.active?e.concat(t.id):e},[])},update_context:function(e,t){var n=t.contextId,a=t.property,i=t.value,o=e.contexts.find(function(e){return e.id===n});o&&(o[a]=i,c()(v.a).some(function(e){return e===a})&&o.layers.forEach(function(e){return e[a]=i}),e.contexts.splice(n,1,o))},toggle_context:function(e,t){var n=t.contextId;if(e.contexts.find(function(e){return e.id===n})){var a=e.activeContextsIds.indexOf(n);-1===a?e.activeContextsIds.push(n):e.activeContextsIds.splice(a,1)}},show_layer_info:function(e,t){var n=t.fileName,a=t.label,i=t.showDownload,o=t.downloadLinks;e.layerInfo={fileName:n,label:a,showDownload:i,downloadLinks:o}},set_context_time:function(e,t){var n=t.contextId,a=t.time;e.contextsTimes.splice(n,1,a)},overlay_kml:function(e,t){var n=t.kml;e.kmlOverlay=n},enable_feedback:function(e,t){var n=t.enable;e.enableFeedback=n,e.activeTool=n?"feedback":null},toggle_measure:function(e,t){t.enable;e.activeTool=e.measureActive?null:"measure",e.measureActive=!e.measureActive},update_group:function(e,t){var n=t.groupId,a=t.value,i=e.groups.findById(n);i&&(i.items=a),i.items.forEach(function(e){e.parent=i})},update_layers:function(e,t){var n=t.value;e.layers=n,e.contexts.forEach(function(e){var t=e.layers;e.layers=t.map(function(e){return n.find(function(t){return t.id===e.id})}).filter(function(e){return!!e})}),m(e)},set_annotations_geojson:function(e,t){var n=t.layer,a=t.label,o=void 0===a?"":a,r=n.features.map(function(e){return e.properties=s()({},e.properties,{vector_style:s()({},y.vector_style,{label:o})}),e});if(e.annotations.geoJson){var c=i()(n.features,1),l=c[0],u=e.annotations.geoJson.features.findIndex(function(e){return e.properties.id===l.properties.id});-1===u?e.annotations.geoJson.features.push(l):e.annotations.geoJson.features[u]=l}else e.annotations=s()({},e.annotations,{geoJson:s()({},n,{features:r})})},set_annotations_visible:function(e,t){var n=t.visible;e.annotations=s()({},e.annotations,{visible:n})},clear_annotations:function(e){e.annotations={visible:!1}},set_application_mode:function(e,t){var n=t.mode,a=void 0===n?"desktop":n;e.appMode=a},show_login_modal:function(e,t){var n=t.show,a=void 0!==n&&n;e.showLoginModal=a},set_enable_print:function(e,t){var n=t.enable,a=void 0!==n&&n;e.enablePrint=a},set_printing_in_progress:function(e,t){var n=t.inProgress,a=void 0!==n&&n;e.printingInProgress=a},show_file_drop_modal:function(e,t){var n=t.show,a=void 0!==n&&n;e.showFileDropModal=a,e.activeTool=a?"kmlUpload":null},show_user_panel:function(e,t){var n=t.show,a=void 0!==n&&n;e.showUserPanel=a},set_selected_language:function(e,t){var n=t.lang;e.selectedLanguage=n},show_layer_selector:function(e,t){var n=t.show,a=void 0!==n&&n;e.showLayerSelector=a,e.activeTool=a?"layerSelector":null},set_active_tool:function(e,t){var n=t.tool;e.activeTool=n||null}},b={fetchLayersConfig:function(e){var t=e.commit;n.i(f.d)().then(function(e){return t("receive_layers",{layersConf:e})}).catch(function(e){return alert(e)})},restoreBackup:function(e,t){var a=e.dispatch,i=t.version;n.i(f.e)(i).then(function(){return a("fetchLayersConfig")}).catch(function(e){return alert("Server error:\n"+e.statusText)})}},x={activeContexts:function(e){return e.contexts.filter(function(t){return-1!==e.activeContextsIds.indexOf(t.id)})},activeLayers:function(e,t){var n=[];return t.activeContexts.forEach(function(e){return e.layers.forEach(function(e){return n.push(e)})}),n.filter(function(e,t,n){return n.indexOf(e)===t})},queryableLayers:function(e,t){return t.activeLayers.filter(function(e){return e.statistics})},annotationLayer:function(e){return e.annotations.visible&&e.annotations.geoJson},enableFeedback:function(e){return"mobile"===e.appMode?"feedback"===e.activeTool:e.enableFeedback},showFileDropModal:function(e){return"mobile"===e.appMode?"kmlUpload"===e.activeTool:e.showFileDropModal},measureActive:function(e){return"mobile"===e.appMode?"measure"===e.activeTool:e.measureActive},annotationsActive:function(e){return"mobile"!==e.appMode||"annotations"===e.activeTool},layerSelectorActive:function(e){return e.groups&&("mobile"!==e.appMode||"layerSelector"===e.activeTool)}};t.a=new d.c.Store({strict:!1,state:w,getters:x,actions:b,mutations:_})},372:function(e,t,n){"use strict";function a(){return"fa-"+(r++).toString(16)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(226),o=n.n(i),s={};t.default={name:"fa-icon",props:{name:{type:String,validator:function(e){return!e||e in s||(console.warn('Invalid prop: prop "name" is referring to an unregistered icon "'+e+'".\nPlease make sure you have imported this icon before using it.'),!1)}},scale:[Number,String],spin:Boolean,inverse:Boolean,pulse:Boolean,flip:{validator:function(e){return"horizontal"===e||"vertical"===e}},label:String},data:function(){return{x:!1,y:!1,childrenWidth:0,childrenHeight:0,outerScale:1}},computed:{normalizedScale:function(){var e=this.scale;return e=void 0===e?1:Number(e),isNaN(e)||e<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.',this),this.outerScale):e*this.outerScale},klass:function(){return o()({"fa-icon":!0,"fa-spin":this.spin,"fa-flip-horizontal":"horizontal"===this.flip,"fa-flip-vertical":"vertical"===this.flip,"fa-inverse":this.inverse,"fa-pulse":this.pulse},this.$options.name,!0)},icon:function(){return this.name?s[this.name]:null},box:function(){return this.icon?"0 0 "+this.icon.width+" "+this.icon.height:"0 0 "+this.width+" "+this.height},ratio:function(){if(!this.icon)return 1;var e=this.icon,t=e.width,n=e.height;return Math.max(t,n)/16},width:function(){return this.childrenWidth||this.icon&&this.icon.width/this.ratio*this.normalizedScale||0},height:function(){return this.childrenHeight||this.icon&&this.icon.height/this.ratio*this.normalizedScale||0},style:function(){return 1!==this.normalizedScale&&{fontSize:this.normalizedScale+"em"}},raw:function(){if(!this.icon||!this.icon.raw)return null;var e=this.icon.raw,t={};return e=e.replace(/\s(?:xml:)?id=(["']?)([^"')\s]+)\1/g,function(e,n,i){var o=a();return t[i]=o,' id="'+o+'"'}),e=e.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,function(e,n,a,i){var o=n||i;return o&&t[o]?"#"+t[o]:e}),e}},mounted:function(){var e=this;if(!this.name&&0===this.$children.length)return void console.warn('Invalid prop: prop "name" is required.');if(!this.icon){var t=0,n=0;this.$children.forEach(function(a){a.outerScale=e.normalizedScale,t=Math.max(t,a.width),n=Math.max(n,a.height)}),this.childrenWidth=t,this.childrenHeight=n,this.$children.forEach(function(e){e.x=(t-e.width)/2,e.y=(n-e.height)/2})}},register:function(e){for(var t in e){var n=e[t];n.paths||(n.paths=[]),n.d&&n.paths.push({d:n.d}),n.polygons||(n.polygons=[]),n.points&&n.polygons.push({points:n.points}),s[t]=n}},icons:s};var r=870711},373:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(20),i=n.n(a),o=n(59),s=n.n(o),r=n(26),c=n(607),l=n.n(c),u=n(618),d=n.n(u),f=n(615),p=n.n(f),h=n(608),g=n.n(h),v=n(610),m=n.n(v),y=n(611),w=n.n(y),_=n(614),b=n.n(_),x=n(617),k=n.n(x),C=n(619),L=n.n(C),E=n(621),T=n.n(E),S=n(606),M=n.n(S),P=n(620),I=n.n(P),A=n(612),F=n.n(A),O=n(616),$=n.n(O),z=n(30),R=(n.n(z),n(79));t.default={name:"app",components:{Banner:l.a,MapPane:d.a,LayerSelector:p.a,ContextInfoModal:g.a,FeatureInfo:m.a,Feedback:w.a,KMLOverlay:b.a,Measure:L.a,Logos:k.a,Search:T.a,Annotations:M.a,MobileToolsBar:I.a,FileDrop:F.a,LoginModal:$.a},data:function(){return{user:R.a.user,showConsole:!1,llLogos:z.logos&&z.logos.ll||null,resizable:!0,adaptive:!0,draggable:!0}},created:function(){this.$store.dispatch("fetchLayersConfig"),this.user.authenticated&&this.loadEditor(),this.$store.commit("set_application_mode",{mode:window.screen.width>768?"desktop":"mobile"}),window.addEventListener("resize",this.resizeHandler),this.$store.commit("set_enable_print",{enable:z.printApi&&!!z.printApi.url})},destroyed:function(){window.removeEventListener("resize",this.resizeHandler)},watch:{"user.authenticated":function(){this.user.authenticated?this.loadEditor():this.showConsole=!1}},mounted:function(){z.welcomePage&&this.showWelcomePage(!0,!0,!0)},computed:i()({},n.i(r.a)({isMobile:function(e){return"mobile"===e.appMode},showLoginModal:function(e){return e.showLoginModal}}),n.i(r.b)(["showFileDropModal","layerSelectorActive"])),methods:{resizeHandler:function(){this.$store.commit("set_application_mode",{mode:window.screen.width>768?"desktop":"mobile"})},loadEditor:function(){var e=this;n.e(0).then(function(t){s.a.component("EditorConsole",n(332)),e.showConsole=!0}.bind(null,n)).catch(n.oe)},showWelcomePage:function(e,t,n){var a=this;this.resizable=e,this.adaptive=t,this.draggable=n,this.$nextTick(function(){a.$modal.show({template:'\n            <div class="iframe-modal-content">\n              <div>Welcome</div>\n              <iframe v-bind:src="iframesrc" width=100% height=100%><b>Welcome to Gonini.org!</b></iframe>\n            </div>\n          ',props:["iframesrc"]},{iframesrc:z.welcomePage},{transition:"nice-modal-fade",draggable:n,adaptive:t,resizable:e,width:.9*document.body.clientWidth,height:.7*document.body.clientHeight,maxWidth:710,maxHeight:850})})},hideFileDropModal:function(){this.$store.commit("show_file_drop_modal",{show:!1})},hideLoginModal:function(){this.$store.commit("show_login_modal",{show:!1})}}}},374:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(124),i=n.n(a),o=n(20),s=n.n(o),r=n(26),c=n(9),l=n.n(c),u=(n(355),n(356),n(362),n(361),n(371),n(453)),d=(n.n(u),n(206)),f=n(31),p=n(44),h=n(138),g=n(490),v=n(130),m=n(594),y=n(54),w=void 0,_=void 0,b=void 0,x=void 0;t.default={components:{Icon:l.a},data:function(){var e=["circle","triangle","rectangle"];return{curGeomType:e[0],open:!1,visible:!1,geometryTypes:e,featureText:"",id:"",currentFeature:{}}},mounted:function(){w=new p.a({wrapX:!1}),_=new f.a({source:w,map:y.a,style:new d.b({fill:new d.d({color:"rgba(255,255,255,0.4)"}),stroke:new d.e({color:"#ffcc33",width:2})})}),x=new v.a({element:document.getElementById("popup-annotations"),autoPan:!0,autoPanAnimation:{duration:250}}),y.a.on("click",this.onFeatureClick)},watch:{curGeomType:function(e){this.open&&this.createInteraction(e)},annotationsActive:function(e){this.open&&this.togglePanel()},open:function(e){e&&this.createInteraction(this.curGeomType)}},methods:{onFeatureClick:function(e){var t=y.a.forEachFeatureAtPixel(e.pixel,function(e){return e||{}});if(t){var n=t.getGeometry().getCoordinates()[0];n.length&&(t&&t.getStyle()&&(this.featureText=t.getStyle().getText().getText()||""),this.currentFeature=t,this.id=t.getProperties().id,y.a.addOverlay(x),x.setPosition(n[0]),this.displayPopup(!0))}},displayPopup:function(e){document.getElementById("popup-annotations").style.display=e?"block":"none"},togglePanel:function(){var e=!this.open;this.open=e,e||this.removeInteraction()},toggleLayer:function(){var e=!_.getVisible();_.setVisible(e),y.a.updateSize(),this.visible=e,this.$store.commit("set_annotations_visible",{visible:e})},showLayer:function(){this.visible=!0,_.setVisible(!0)},clearVector:function(){w.clear(),this.$store.commit("clear_annotations"),this.visible=!1},removeInteraction:function(){b&&y.a.removeInteraction(b)},setFeatureStyle:function(){var e=this.currentFeature,t=this.featureText,n=new d.b({fill:new d.d({color:"rgba(255,255,255,0.4)"}),stroke:new d.e({color:"#ffcc33",width:2}),text:new d.f({textAlign:"center",textBaseline:"middle",font:"bold 16px sans-serif",text:t,fill:new d.d({color:"#fff"}),placement:"point",overflow:!0})});e.setStyle(n),e.setProperties({id:this.id});var a=JSON.parse((new g.a).writeFeatures([e]));this.$store.commit("set_annotations_geojson",{layer:a,label:t}),this.featureText="",this.displayPopup(!1)},createInteraction:function(e){var t=this;b&&y.a.removeInteraction(b);var a=void 0;switch(e){case"circle":a={type:"Circle",geometryFunction:n.i(h.a)(0)};break;case"triangle":a={type:"Circle",geometryFunction:n.i(h.a)(3)};break;case"rectangle":a={type:"Circle",geometryFunction:n.i(h.b)()};break;default:a=null}a&&(b=new h.c(s()({source:w},a)),y.a.addInteraction(b),b.on("drawend",function(e){var a=n.i(m.a)();e.feature.setProperties({id:a}),t.currentFeature=e.feature;var o=new g.a,s=o.writeFeatures([e.feature]);t.id=a,t.$store.commit("set_annotations_geojson",{layer:JSON.parse(s)}),t.$store.commit("set_annotations_visible",{visible:!0}),t.showLayer(),t.featureText="";var r=i()(o.readFeatures(s)[0].getGeometry().getCoordinates()[0],1),c=r[0];y.a.addOverlay(x),x.setPosition(c),t.displayPopup(!0)}))}},computed:s()({},n.i(r.b)(["annotationsActive"]))}},375:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(20),i=n.n(a),o=n(9),s=n.n(o),r=n(30),c=(n.n(r),n(79)),l=n(219),u=n(26);n(221),n(220);t.default={components:{Icon:s.a},data:function(){return{languages:r.languages,showUpload:!1,showLogin:!1,user:c.a.user}},methods:{setLanguage:function(e){l.a.setLanguage(e)},enableFeedback:function(){l.a.enableFeedback(this.$store,!0)},enableUpload:function(){l.a.enableUpload(this.$store,!0)},logout:function(){c.a.logout()},showLoginDialog:function(){l.a.showLogin(this.$store,!0)},toggleMeasure:function(){l.a.toggleMeasure(this.$store,!0)},printMap:function(){l.a.printMap(this.$store,this.activeLayers,this.activeContexts,this.annotationLayer)},toggleUserPanel:function(){this.$store.commit("show_user_panel",{show:!this.showUserPanel})},adminButtonClick:function(){this.user.authenticated?this.logout():this.showLoginDialog(!0)}},computed:i()({},n.i(u.b)(["activeLayers","activeContexts","annotationLayer"]),n.i(u.a)({isMobile:function(e){return"mobile"===e.appMode},selectedLanguage:function(e){return e.i18n.locale},enablePrint:function(e){return e.enablePrint},showUserPanel:function(e){return e.showUserPanel}}))}},376:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(20),i=n.n(a),o=n(123),s=n.n(o),r=n(26),c=n(77),l=n(59),u=n.n(l),d=function(e){return e.replace("$(_lang)",u.a.i18n.locale())},f=function(e){return/[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)};t.default={data:function(){return{showModal:!1,custom_content:null,content:null,needsEmail:!1,email:"",emailInvalid:!1,showDownloadLinks:!1}},methods:{closeByName:function(){this.$modal.hide("context-info-modal")},changeEmail:function(e){this.email=e.target.value},resetState:function(){this.email="",this.emailInvalid=!1,this.content="",this.showDownloadLinks=!1},showLayerInfoContent:function(e){var t=this;this.label=e.label;var a=function(e){t.content=e,t.$modal.show("context-info-modal")};n.i(c.a)("GET",d(e.fileName)).then(function(e){return a(e)}).catch(function(e){return a("Cannot get layer info:\n"+e.statusText)})},validateEmailAndContinue:function(){if(f(this.email)){window.localStorage.setItem("userEmail",this.email),this.emailInvalid=!1,this.needsEmail=!1,this.showDownloadLinks=!0}else this.emailInvalid=!0},requestEmailChange:function(){this.needsEmail=!0,this.showDownloadLinks=!1},processDownloadLink:function(e){var t=e.url,n=new XMLHttpRequest;n.open("POST","/api/layer_info_download_log"),n.setRequestHeader("Content-Type","application/json"),n.send(s()({email:this.email,link:t}))}},watch:{layerInfo:function(e){if(e.showDownload){var t=window.localStorage,n=t.getItem("userEmail");n?(this.email=n,this.needsEmail=!1,this.showDownloadLinks=!0,this.$modal.show("context-info-modal")):(this.needsEmail=!0,this.$modal.show("context-info-modal"))}else this.showLayerInfoContent(e)}},computed:i()({},n.i(r.a)(["layerInfo"]),{showEmailPrompt:function(){return!!this.layerInfo&&this.layerInfo.showDownload&&this.needsEmail&&!this.showDownloadLinks},downloadLinksIntl:function(){return(this.layerInfo.downloadLinks||[]).map(function(e){return i()({},e,{label:e.labels.find(function(e){return e.language===u.a.i18n.locale()}).label})})}})}},377:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(59),i=n.n(a);t.default={props:{conf:Object},data:function(){return{legendUrls:this.conf.legend(i.a.i18n.locale())}}}},378:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(20),i=n.n(a),o=n(97),s=n.n(o),r=n(124),c=n.n(r),l=n(31),u=n(44),d=n(130),f=n(133),p=n(26),h=n(54),g=n(77),v=n(59),m=n.n(v),y=new l.a({source:new u.a,map:h.a}),w=function(e,t){var n=/\$\((\w+)\)/g;return e.replace(n,function(e,n){var a=e.substring(2,e.length-1);return t.getProperties()[a]})},_=function(e,t){return w(e.replace("$(_lang)",m.a.i18n.locale()),t)},b=new f.a,x=function(e){return e.then(function(t){return{v:t,layer:e.layer,status:"fulfilled"}},function(t){return{e:t,layer:e.layer,status:"rejected"}})},k=void 0,C=void 0,L=void 0,E=function(e,t,n,a,i,o){var s=b.readFeatures(o.v,{featureProjection:"EPSG:3857"});return s.length&&(y.getSource().addFeatures(s),s.forEach(function(a){if(o.layer){o.layer.statistics.forEach(function(i){e.push(i);var o=i.labels.find(function(e){return e.language===m.a.i18n.locale()}).label;t.push(o?w(o,a):a.getId()),n.push(a)})}})),i+s.length},T=function(e){if(!this.enableFeedback&&!this.measureActive&&(L.setPosition(void 0),y.getSource().clear(),this.queryableLayers.length)){this.statisticsConfs=[],this.statisticsLabels=[],this.statisticsFeatures=[];var t=h.a.getSize(),a=c()(t,2),i=a[0],o=a[1],r=c()(e.pixel,2),l=r[0],u=r[1],d=h.a.getView().calculateExtent(t),f=[];this.queryableLayers.forEach(function(e){var t=(e.serverUrls&&e.serverUrls.length&&e.serverUrls[0])+"?LAYERS="+e.name+"&QUERY_LAYERS="+e.name+"&STYLES=&SERVICE=WMS&VERSION=1.1.1&REQUEST=GetFeatureInfo&SRS=EPSG%3A900913&BBOX="+d.join("%2C")+"&FEATURE_COUNT=5&FORMAT=image%2Fpng&INFO_FORMAT=application%2Fjson&HEIGHT="+o+"&WIDTH="+i+"&X="+Math.round(l)+"&Y="+Math.round(u)+"&EXCEPTIONS=application%2Fvnd.ogc.se_xml",a=n.i(g.a)("GET",t);a.layer=e,f.push(a)}),s.a.all(f.map(x)).then(function(t){t.filter(function(e){return"fulfilled"===e.status}).reduce(E.bind(null,this.statisticsConfs,this.statisticsLabels,this.statisticsFeatures,e),0)>0?L.setPosition(e.coordinate):L.setPosition(void 0)}.bind(this))}};t.default={data:function(){return{statisticsLabels:[],statisticsConfs:[],statisticsFeatures:[],showStatisticsModal:!1,statisticsUrl:null,popupAttributes:null}},mounted:function(){k=document.getElementById("popup"),C=document.getElementById("popup-closer"),C.onclick=function(){return L.setPosition(void 0),C.blur(),y.getSource().clear(),!1},L=new d.a({element:k,autoPan:!0,autoPanAnimation:{duration:250}}),h.a.addOverlay(L)},watch:{layers:{immediate:!0,handler:function(){this.clickCallback||(this.clickCallback=T.bind(this)),h.a.un("singleclick",this.clickCallback),this.handlerKey=h.a.on("singleclick",this.clickCallback)}}},methods:{showStatistics:function(e,t){var n=function(e){var t=e.labels.find(function(e){return e.language===m.a.i18n.locale()});return t?t.label:null};switch(e.type){case"url":var a=e.url;this.statisticsUrl=_(a,t),this.$modal.show("stats-modal");break;case"attributes":var i=e.attributes;if(i)this.popupAttributes=i.map(function(e){return{label:n(e),value:t.getProperties()[e.attribute]||"n/a"}});else{var o=[],s=t.getProperties();for(var r in s)s.hasOwnProperty(r)&&"geometry"!==r&&o.push({label:r,value:s[r]});this.popupAttributes=o}this.$modal.show("props-modal")}}},computed:i()({},n.i(p.a)(["layers"]),n.i(p.b)(["queryableLayers","measureActive","enableFeedback"]))}},379:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(20),i=n.n(a),o=n(201),s=n(192),r=n(138),c=n(134),l=n(26),u=n(54),d=n(30),f=(n.n(d),null),p=null;t.default={data:function(){return{drawSource:null,senderEmailIsRequired:d.feedbackApi.askForEmail||!1,senderEmail:"",message:"",draw:null,categories:d.feedbackApi.feedbackCategories||[],selectedCategory:"",drawOptions:d.feedbackApi.drawOptions||["Point","Polygon"],drawDefault:d.feedbackApi.drawDefault||"Polygon"}},watch:{enableFeedback:function(e){e?(this.drawSource=new o.a({wrapX:!1}),f=new s.a({source:this.drawSource,map:u.a}),this.drawOptions.includes(this.drawDefault||"Polygon")?this.draw=this.drawDefault||"Polygon":this.draw=this.drawOptions[0]):(this.message="",this.selectedCategory="",u.a.removeInteraction(p),this.clear(),u.a.removeLayer(f),this.draw=null)},draw:function(){this.draw&&(p&&u.a.removeInteraction(p),p=new r.c({source:this.drawSource,type:this.draw}),u.a.addInteraction(p))}},methods:{setDrawTool:function(e){this.draw=e},sendFeedback:function(){var e=f.getSource().getFeatures(),t=new c.a,n=t.writeFeatures(e,{featureProjection:"EPSG:3857"}),a=new XMLHttpRequest,i=this;a.onreadystatechange=function(){4===this.readyState&&(200===this.status?alert("Feedback sent"):alert("Error sending feedback\n"+this.responseText),i.disableFeedback())};var o="category="+this.selectedCategory+"&message="+this.message+"&kml="+n;d.feedbackApi.askForEmail&&(o+="&sender="+this.senderEmail),a.open("POST",d.feedbackApi.feedbackUrl,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(o)},disableFeedback:function(){this.$store.commit("enable_feedback",{enable:!1})},clear:function(){f&&f.getSource().clear()},validEmail:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}},computed:i()({drew:function(){return!(!this.drawSource||!this.drawSource.getFeatures().length)},disableSend:function(){return!(!this.senderEmailIsRequired||this.validEmail(this.senderEmail))||!(this.drew&&""!==this.message&&(0===this.categories.length||""!==this.selectedCategory))}},n.i(l.b)(["enableFeedback"]))}},380:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(210),i=n.n(a);t.default={components:{Modal:i.a},props:{show:Boolean},methods:{hideUploadPopup:function(){this.$emit("disable")}},watch:{show:function(e){var t=this,n=0,a=function(e){e.stopPropagation(),e.preventDefault(),n++,document.getElementById("dropTarget").classList.add("dragover")},i=function(e){0===--n&&document.getElementById("dropTarget").classList.remove("dragover")},o=function(e){e.stopPropagation(),e.preventDefault()},s=function(e){var n=e[0],a=new FileReader;a.onload=function(e){try{t.$store.commit("overlay_kml",{kml:e.target.result})}catch(e){alert("Error reading the KML file:\n"+e)}t.hideUploadPopup()},a.readAsText(n)},r=function(e){e.stopPropagation(),e.preventDefault();var t=e.dataTransfer,a=t.files;s(a),n=0};e&&this.$nextTick(function(){var e=document.getElementById("dropTarget");e.addEventListener("dragenter",a,!1),e.addEventListener("dragleave",i,!1),e.addEventListener("dragover",o,!1),e.addEventListener("drop",r,!1)})}}}},381:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(229),i=n.n(a),o=n(98),s=n.n(o),r=n(20),c=n.n(r),l=n(59),u=n.n(l),d=n(26),f=n(609),p=n.n(f),h=n(623),g=n.n(h),v=n(9),m=n.n(v),y=n(30);n.n(y),n(367),n(365),n(330),n(363),n(360),n(328),n(368),n(359),n(220),n(221),n(366),n(370),n(329),n(358),n(357),n(354);t.default={name:"item",components:{ContextLegend:p.a,TimeSelect:g.a,Icon:m.a,draggable:function(e){return n.e(0).then(function(t){return e(n(326))}.bind(null,n)).catch(n.oe)}},props:{conf:Object},data:function(){return{open:!this.conf.parent,showLegend:!1,showTimeMenu:!1,highlighted:!1,opacity:this.conf.opacity}},computed:c()({list:{get:function(){return this.conf.items},set:function(e){this.$store.commit("update_group",{groupId:this.conf.id,value:e})}},label:function(){var e=this.conf.labels.find(function(e){return e.language===u.a.i18n.locale()});return e?e.label:null},isRoot:function(){return!this.conf.parent},hasLayers:function(){return!!this.conf.layers&&!!this.conf.layers.length},hasStatistics:function(){return!!this.conf.layers&&this.conf.layers.some(function(e){return e.statistics})},hasDataDownload:function(){return!!this.conf.layers&&this.conf.layers.some(function(e){return e.downloadLinks})},selectedTime:function(){return this.contextsTimes[this.conf.id]},active:function(){return-1!==this.activeContextsIds.indexOf(this.conf.id)},nContexts:function(){return function e(t){return t.isGroup?t.items.reduce(function(t,n){return t+e(n)},0):t.layers.length?1:0}(this.conf)},nActive:function(){var e=this.activeContextsIds;return function t(n){return n.isGroup?n.items.reduce(function(e,n){return e+t(n)},0):-1!==e.indexOf(n.id)?1:0}(this.conf)},locNActive:function(){var e=u.a.i18n.locale(),t=y.languages.find(function(t){return t.id===e});return t&&t.u&&(e+="-u-"+t.u),"object"===("undefined"==typeof Intl?"undefined":s()(Intl))&&"function"==typeof Intl.NumberFormat?this.nActive.toLocaleString(e):this.nActive}},n.i(d.a)(["contextsTimes","activeContextsIds","editing"])),watch:{active:function(){this.showLegend=!1}},methods:{startEditing:function(){this.$store.commit("enable_edit",{editing:!0})},editItem:function(){this.$store.commit("edit_item",{id:this.conf.id})},deleteItem:function(){confirm("Are you sure that you want to delete this item?")&&this.$store.commit("delete_item",{id:this.conf.id})},highlightContext:function(e){this.highlighted=e},toggleContent:function(){this.open=!this.open},toggleActive:function(){var e=this;this.conf.layers.length&&(this.conf.parent.exclusive?(!this.conf.parent.allowDisableAll&&this.active||this.$store.commit("toggle_context",{contextId:this.conf.id}),this.conf.parent.items.forEach(function(t){t.id!==e.conf.id&&-1!==e.activeContextsIds.indexOf(t.id)&&e.$store.commit("toggle_context",{contextId:t.id})})):this.$store.commit("toggle_context",{contextId:this.conf.id}))},updateOpacity:function(e){this.conf.layers.length&&this.$store.commit("update_context",{contextId:this.conf.id,property:"opacity",value:+e.target.value})},toggleLegend:function(){this.active&&(this.showLegend=!this.showLegend)},showInfo:function(){this.$store.commit("show_layer_info",{label:this.conf.label,fileName:this.conf.infoFile})},showDownloads:function(){this.$store.commit("show_layer_info",{label:this.label+" Downloads",showDownload:!0,downloadLinks:(this.conf.layers||[]).map(function(e){return e.downloadLinks}).reduce(function(e,t){return[].concat(i()(e),i()(t))},[])})},toggleTimeMenu:function(){this.showTimeMenu=!this.showTimeMenu},setTime:function(e){this.$store.commit("set_context_time",{contextId:this.conf.id,time:e})}}}},382:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(31),i=n(44),o=n(39),s=n(67),r=n(76),c=n(92),l=n(134),u=n(26),d=n(54),f=void 0;t.default={methods:{clearFeedback:function(){this.$store.commit("overlay_kml",{kml:null})}},watch:{kmlOverlay:function(e){if(d.a.removeLayer(f),e){var t=new i.a({features:new l.a({extractStyles:!1}).readFeatures(e,{featureProjection:"EPSG:3857"})}),n=new r.a({color:"#319FD3",width:1}),u=new s.a({color:"rgba(255, 255, 255, 0.3)"}),p=new c.a({fill:u,stroke:n,radius:5}),h={Point:new o.d({image:p}),LineString:new o.d({stroke:n}),Polygon:new o.d({fill:u,stroke:n}),MultiPoint:new o.d({image:p}),MultiLineString:new o.d({stroke:n}),MultiPolygon:new o.d({fill:u,stroke:n})},g=function(e,t){var n=e.getStyleFunction();return n?n.call(e,t):h[e.getGeometry().getType()]};f=new a.a({source:t,style:g}),f.setZIndex(1e3),d.a.addLayer(f),d.a.getView().fit(t.getExtent(),d.a.getSize())}}},computed:n.i(u.a)(["kmlOverlay"])}},383:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(20),i=n.n(a),o=n(613),s=n.n(o),r=n(26),c=n(79);t.default={name:"layerSelector",components:{Item:s.a},data:function(){return{user:c.a.user}},computed:i()({},n.i(r.a)({groups:function(e){return e.groups}}),n.i(r.b)(["layerSelectorActive"]))}},384:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(79),i=n(210),o=n.n(i);t.default={data:function(){return{user:null,password:null,error:null}},components:{Modal:o.a},props:{show:Boolean},methods:{submit:function(e,t){var n=this,i={username:this.user,password:this.password};a.a.login(i,"secretquote").then(function(e){n.$emit("disable"),n.user=n.password=n.error=null}).catch(function(e){this.error=e.statusText}.bind(this))},cancel:function(){this.$emit("disable"),this.user=this.password=this.error=null}}}},385:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{logosList:Array}}},386:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(20),i=n.n(a),o=n(225),s=n.n(o),r=n(352),c=n(59),l=n.n(c),u=n(26),d=n(54),f=n(140),p=n(333),h={};t.default={name:"mapPane",data:function(){return{gmap:null}},mounted:function(){d.a.setTarget("map"),this.gmap=new p.a({map:d.a})},watch:{layers:function(e){d.a.getLayers().clear(),e.forEach(function(e){try{var t=r.a.createOlLayer(e,l.a.i18n.locale());t&&(h[e.id]=t,d.a.addLayer(t))}catch(e){console.log(e)}})},locale:function(e,t){null!==t&&this.layers.forEach(function(n){if("wms"===n.type){var a=n.styles.find(function(e){return e.language===t}).label,i=n.styles.find(function(t){return t.language===e}).label;a!==i&&h[n.id].getSource().updateParams({STYLES:i})}})},activeLayers:function(e){var t=function(t){var n=t.visible&&e.some(function(e){return e.id===t.id});h[t.id].setVisible(n)},n=this.layers.filter(function(e){return"google"===e.type});n.forEach(function(e){return h[e.id].setVisible(!1)}),this.layers.filter(function(e){return"google"!==e.type}).forEach(t),n.forEach(t),n.reduce(function(e,t){return e||h[t.id].getVisible()},!1)?this.gmap.activate():this.gmap.deactivate()},contextsTimes:function(e){var t=this;for(var n in e)!function(n){if(e[n]){t.contexts.find(function(e){return e.id===+n}).layers.forEach(function(t){return h[t.id].getSource().updateParams({TIME:e[n].iso8601})})}}(n)},contexts:function(e){this.contexts.forEach(function(e){s()(f.a).filter(function(t){return e.hasOwnProperty(t)}).forEach(function(t){e.layers.filter(function(e){return"google"!==e.type}).forEach(function(n){h[n.id].set(t,e[t])})})})}},computed:i()({},n.i(u.a)({layers:function(e){return e.layers},contexts:function(e){return e.contexts},contextsTimes:function(e){return e.contextsTimes},locale:function(e){return e.i18n.locale}}),n.i(u.b)(["activeLayers"]))}},387:function(e,t,n){"use strict";function a(e){A=e.feature;var t=e.coordinate;N=A.getGeometry().on("change",function(e){var n=e.target,a=void 0;n instanceof y.b?(a=D(n),t=n.getInteriorPoint().getCoordinates()):n instanceof w.a&&(a=U(n),t=n.getLastCoordinate()),$.innerHTML=a,z.setPosition(t)})}function i(){$.className="tooltip tooltip-static",z.setOffset([0,-7]),A=null,$=null,r(),n.i(_.b)(N)}function o(){S=document.getElementById("measureToolType");var e="area"===S.value?"Polygon":"LineString";G=new x.c({source:P,type:e,style:new p.d({fill:new h.a({color:"rgba(255, 255, 255, 0.2)"}),stroke:new g.a({color:"rgba(255,69,0, 0.5)",lineDash:[10,10],width:2}),image:new v.a({radius:5,stroke:new g.a({color:"rgba(0, 0, 0, 0.7)"}),fill:new h.a({color:"rgba(255, 255, 255, 0.2)"})})})}),L.a.addInteraction(G),G.on("drawstart",a,this),G.on("drawend",i,this)}function s(){F&&F.parentNode.removeChild(F),F=document.createElement("div"),F.className="tooltip hidden",O=new m.a({element:F,offset:[15,0],positioning:"center-left"}),O.setMap(L.a)}function r(){$&&$.parentNode.removeChild($),$=document.createElement("div"),$.className="tooltip tooltip-measure",z=new m.a({element:$,offset:[0,-15],positioning:"bottom-center"}),z.setMap(L.a),M.push(z)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(20),l=n.n(c),u=n(47),d=n(201),f=n(192),p=n(39),h=n(67),g=n(76),v=n(92),m=n(130),y=n(13),w=n(23),_=n(107),b=n(204),x=n(138),k=n(134),C=n(26),L=n(54),E=null,T=null,S=void 0,M=new u.a,P=new d.a,I=new f.a({source:P,style:new p.d({fill:new h.a({color:"rgba(255, 255, 255, 0.2)"}),stroke:new g.a({color:"#ffcc33",width:2}),image:new v.a({radius:7,fill:new h.a({color:"#ffcc33"})})})}),A=void 0,F=void 0,O=void 0,$=void 0,z=void 0,R=function(e){if(!e.dragging){var t="Click to start drawing";if(A){var n=A.getGeometry();n instanceof y.b?t="Click to continue drawing the polygon":n instanceof w.a&&(t="Click to continue drawing the line")}O&&(F.innerHTML=t,O.setPosition(e.coordinate),F.classList.remove("hidden"))}},U=function(e){var t=n.i(b.c)(e);return t>100?Math.round(t/1e3*100)/100+" km":Math.round(100*t)/100+" m"},D=function(e){var t=n.i(b.d)(e);return t>1e4?Math.round(t/1e6*100)/100+" km<sup>2</sup>":Math.round(100*t)/100+" m<sup>2</sup>"},G=void 0,N=void 0;t.default={mounted:function(){this.$nextTick(function(){r(),s()})},watch:{measureActive:function(e){e?(o(),R&&I&&(I.setMap(L.a),O.setMap(L.a),z.setMap(L.a),L.a.on("pointermove",R),S&&S.classList.remove("hidden"),document.getElementById("measureOptions").classList.remove("hidden"),F&&F.classList.remove("hidden"))):(I.setMap(null),P.clear(),O.setMap(null),z.setMap(null),L.a.removeInteraction(G),L.a.un("pointermove",R),S&&S.classList.add("hidden"),document.getElementById("measureOptions").classList.add("hidden"),F&&F.classList.add("hidden"),G.un("drawstart",a),G.un("drawend",i),M.forEach(function(e){e.setMap(null)}))},draw:function(){this.draw&&(T&&L.a.removeInteraction(T),T=new x.c({source:this.drawSource,type:this.draw}),L.a.addInteraction(T))}},methods:{setDrawTool:function(e){this.draw=e},sendFeedback:function(){var e=E.getSource().getFeatures(),t=new k.a,n=t.writeFeatures(e,{featureProjection:"EPSG:3857"}),a=new XMLHttpRequest,i=this;a.onreadystatechange=function(){4===this.readyState&&(200===this.status?alert("Feedback sent"):alert("Error sending feedback\n"+this.responseText),i.disableFeedback())};var o="category="+this.selectedCategory+"&message="+this.message+"&kml="+n;a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(o)},disableFeedback:function(){this.$store.commit("enable_feedback",{enable:!1})},clear:function(){E.getSource().clear()}},computed:l()({drew:function(){return!(!this.drawSource||!this.drawSource.getFeatures().length)},disableSend:function(){return!(this.drew&&""!==this.message&&""!==this.selectedCategory)},toolTypeSelected:{get:function(){return"length"},set:function(e){L.a.removeInteraction(G),G.un("drawstart",a),G.un("drawend",i),o()}}},n.i(C.b)(["measureActive"]))}},388:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(20),i=n.n(a),o=n(9),s=n.n(o),r=n(26),c=n(478),l=n(21),u=n(18),d=n(206),f=n(31),p=n(44),h=(n(369),n(364),n(219)),g=n(54),v=void 0,m=void 0,y=void 0,w=void 0,_=!1;t.default={components:{Icon:s.a},data:function(){return{locationActive:!1,gettingLocation:!1}},mounted:function(){var e=this;v=new c.a({trackingOptions:{enableHighAccuracy:!0},projection:g.a.getView().getProjection()}),v.on("error",function(t){e.gettingLocation=!1,alert(t.message)}),y=new l.a,v.on("change:accuracyGeometry",function(){return y.setGeometry(v.getAccuracyGeometry())}),w=new l.a,w.setStyle(new d.b({image:new d.c({radius:6,fill:new d.d({color:"#3399CC"}),stroke:new d.e({color:"#fff",width:2})})})),v.on("change:position",function(){var t=v.getPosition();w.setGeometry(t?new u.a(t):null),_||(g.a.getView().setCenter(t),_=!0),e.gettingLocation&&(e.gettingLocation=!1)}),m=new f.a({map:g.a,source:new p.a({features:[y,w]})}),m.setVisible(!1)},methods:{printMap:function(){h.a.printMap(this.$store,this.activeLayers,this.activeContexts,this.annotationLayer)},toggleTool:function(e){this.$store.commit("set_active_tool",{tool:e===this.activeTool?null:e})},toggleLocation:function(){this.locationActive=!this.locationActive},activeClass:function(e){return{"icon-active":e===this.activeTool}}},watch:{locationActive:function(e){e?(_=!1,this.gettingLocation=!0):(y.setGeometry(),w.setGeometry()),m.setVisible(e),v.setTracking(e)}},computed:i()({tools:function(){return h.a}},n.i(r.b)(["activeLayers","activeContexts","annotationLayer"]),n.i(r.a)({isMobile:function(e){return"mobile"===e.appMode},enablePrint:function(e){return e.enablePrint},activeTool:function(e){return e.activeTool},printingInProgress:function(e){return e.printingInProgress}}))}},389:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={created:function(){window.addEventListener("keydown",this.handleKeyDown)},methods:{handleKeyDown:function(e){13!==e.keyCode&&27!==e.keyCode||this.$emit("close")}}}},390:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(20),i=n.n(a),o=n(26),s=n(77),r=n(622),c=n.n(r),l=n(54),u=n(1),d=n(133),f=n(30);n.n(f);t.default={data:function(){return{searchText:"",results:[],wfsSearchConfig:f.wfsSearchConfig}},mounted:function(){this.$nextTick(function(){})},watch:{},methods:{clickHandler:function(e){e&&e.extent&&l.a.getView().fit(n.i(u.o)(e.extent,"EPSG:4326","EPSG:3857"),{size:l.a.getSize(),maxZoom:19})},goSearching:function(e){13===e.keyCode&&this.wfsSearch(this.searchText)},noop:function(){},wfsSearch:function(e){var t=this;if(!f.wfsSearchConfig||!f.wfsSearchConfig.layersToQuery)return void alert("WFS Search is not correctly configured.\nPlease contact your system administrator");if(f.wfsSearchConfig.layersToQuery.lenght!==f.wfsSearchConfig.attributesToFilter.lenght)return void alert("WFS Search attributes list lenght does not match the number of layers to query.\nPlease contact your system administrator");var a=f.wfsSearchConfig.layersToQuery.join(),i=encodeURI(f.wfsSearchConfig.attributesToFilter.join(" ILIKE '%"+e+"%';")+" ILIKE '%"+e+"%'"),o="outputFormat=application/json&maxfeatures=10&typeName="+a+"&cql_filter="+i,r=f.wfsSearchConfig.baseURL+"?service=WFS&version=1.1.0&request=GetFeature&"+o;n.i(s.a)("GET",r).then(function(n){var a=JSON.parse(n);if(a.features){t.results=[];var i=new d.a;a.features.forEach(function(t){if(t.geometry&&t.geometry.coordinates&&t.properties&&t.id){var n={};f.wfsSearchConfig.layersToQuery.forEach(function(a,i){var o=a.indexOf(":")>-1?a.split(":")[1]:a;t.id.indexOf(o)>-1&&(n.fromtable=a,n.title&&-1!==n.title.indexOf(e)||(n.title=t.properties[f.wfsSearchConfig.attributesToFilter[i]]))}),n.extent=i.readFeature(t).getGeometry().getExtent(),this.results.push(n)}},t)}}).catch(function(e){alert("Error WFS\n"+e)})}},computed:i()({},n.i(o.a)({isMobile:function(e){return"mobile"===e.appMode},measure:function(e){return"measure"===e.activeTool}})),components:{"search-results":c.a}}},391:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["result","clickHandler"]}},392:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{times:Array,selectedTime:Object},methods:{set:function(e){this.$emit("setTime",e)}}}},453:function(e,t){},454:function(e,t){},455:function(e,t){},456:function(e,t){},457:function(e,t){},458:function(e,t){},459:function(e,t){},460:function(e,t){},461:function(e,t){},462:function(e,t){},463:function(e,t){},464:function(e,t){},465:function(e,t){},466:function(e,t){},467:function(e,t){},468:function(e,t){},469:function(e,t){},470:function(e,t){},471:function(e,t){},472:function(e,t){},473:function(e,t){},474:function(e,t){},475:function(e,t){},54:function(e,t,n){"use strict";var a=n(252),i=n(131),o=n(262),s=n(260),r=n(24),c=n(1),l=n(30),u=(n.n(l),n(346)),d=new o.a({coordinateFormat:n.i(r.a)(4),projection:"EPSG:4326",undefinedHTML:"&nbsp;"});t.a=new a.a({interactions:n.i(u.a)(),controls:n.i(s.a)({attribution:!1,zoom:!0}).extend([d]).extend([new s.b({collapsible:!1})]),view:new i.a({center:n.i(c.a)(l.map.mapCenterLonLat||[0,0]),zoom:l.map.mapZoom||4})})},586:function(e,t){e.exports='<svg version="1.1" id="__1Ou0F8s__Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 511.992 511.992" style="enable-background:new 0 0 511.992 511.992;" xml:space="preserve"><g><g><path d="M486.417,140.796H179.166c-14.097,0-25.574,11.477-25.574,25.574v204.851c0,14.097,11.477,25.574,25.574,25.574h192.76 l82.833,82.833c1.638,1.63,3.823,2.5,6.042,2.5c1.101,0,2.21-0.205,3.26-0.649c3.183-1.314,5.265-4.437,5.265-7.885v-76.8h17.092 c14.106,0,25.574-11.477,25.574-25.574V166.37C511.991,152.273,500.514,140.796,486.417,140.796z M494.933,371.221 c0,4.693-3.823,8.508-8.508,8.508H460.8c-4.71,0-8.533,3.814-8.533,8.533v64.734L381.5,382.229c-1.596-1.604-3.772-2.5-6.033-2.5 H179.174c-4.693,0-8.508-3.814-8.508-8.508V166.37c0-4.693,3.814-8.508,8.508-8.508h307.251c4.693,0,8.508,3.814,8.508,8.508 V371.221z"></path></g></g><g><g><path d="M332.826,29.862H25.574C11.477,29.862,0,41.34,0,55.437v204.851c0,14.097,11.477,25.574,25.574,25.574h17.092v76.8 c0,3.447,2.082,6.571,5.274,7.885c1.05,0.444,2.159,0.649,3.26,0.649c2.219,0,4.403-0.87,6.033-2.5l82.842-82.833h22.059 c4.71,0,8.533-3.814,8.533-8.533V166.37c0-4.693,3.814-8.508,8.508-8.508h170.692c4.71,0,8.533-3.814,8.533-8.533V55.437 C358.4,41.34,346.923,29.862,332.826,29.862z M341.333,140.796H179.174c-14.097,0-25.574,11.477-25.574,25.574v102.426h-17.067 c-2.261,0-4.429,0.896-6.033,2.5l-70.767,70.767v-64.734c0-4.719-3.823-8.533-8.533-8.533H25.574 c-4.693,0-8.508-3.814-8.508-8.508V55.437c0-4.693,3.814-8.508,8.508-8.508h307.251c4.693,0,8.508,3.814,8.508,8.508V140.796z"></path></g></g><g><g><path d="M332.8,226.129c-23.526,0-42.667,19.14-42.667,42.667c0,23.526,19.14,42.667,42.667,42.667 c23.526,0,42.667-19.14,42.667-42.667C375.467,245.269,356.326,226.129,332.8,226.129z M332.8,294.396 c-14.114,0-25.6-11.486-25.6-25.6c0-14.114,11.486-25.6,25.6-25.6c14.114,0,25.6,11.486,25.6,25.6 C358.4,282.91,346.914,294.396,332.8,294.396z"></path></g></g><g><g><path d="M435.2,226.129c-23.526,0-42.667,19.14-42.667,42.667c0,23.526,19.14,42.667,42.667,42.667 c23.526,0,42.667-19.14,42.667-42.667C477.867,245.269,458.726,226.129,435.2,226.129z M435.2,294.396 c-14.114,0-25.6-11.486-25.6-25.6c0-14.114,11.486-25.6,25.6-25.6s25.6,11.486,25.6,25.6 C460.8,282.91,449.314,294.396,435.2,294.396z"></path></g></g><g><g><path d="M230.4,226.129c-23.526,0-42.667,19.14-42.667,42.667c0,23.526,19.14,42.667,42.667,42.667 c23.526,0,42.667-19.14,42.667-42.667C273.067,245.269,253.926,226.129,230.4,226.129z M230.4,294.396 c-14.114,0-25.6-11.486-25.6-25.6c0-14.114,11.486-25.6,25.6-25.6s25.6,11.486,25.6,25.6 C256,282.91,244.514,294.396,230.4,294.396z"></path></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>'},587:function(e,t){e.exports='<svg version="1.1" id="__nd4vx_d__Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 550.801 550.801" style="enable-background:new 0 0 550.801 550.801;" xml:space="preserve"><g><g><path d="M475.095,132c-0.031-2.529-0.828-5.023-2.562-6.995L366.325,3.694c-0.021-0.031-0.053-0.042-0.085-0.074 c-0.633-0.709-1.36-1.292-2.141-1.803c-0.232-0.153-0.464-0.288-0.707-0.422c-0.686-0.369-1.392-0.67-2.13-0.892 c-0.2-0.061-0.38-0.14-0.58-0.195C359.87,0.119,359.048,0,358.204,0H97.2c-11.907,0-21.6,9.695-21.6,21.601v507.6 c0,11.913,9.692,21.601,21.6,21.601h356.4c11.918,0,21.6-9.688,21.6-21.601V133.21C475.2,132.804,475.137,132.398,475.095,132z M180.149,512.721l-27.382-48.289l-9.624,11.792v36.503h-25.054V400.882h25.054v49.438h0.504c2.489-4.313,5.139-8.29,7.636-12.271 l25.384-37.167H207.7l-37.007,47.624l38.995,64.215H180.149z M316.206,512.721l-1.655-42.814 c-0.496-13.438-1.002-29.7-1.002-45.964h-0.496c-3.485,14.275-8.126,30.206-12.44,43.311l-13.61,43.644h-19.746l-11.944-43.311 c-3.649-13.11-7.462-29.047-10.125-43.644h-0.335c-0.665,15.104-1.16,32.353-1.985,46.296l-1.994,42.478h-23.398l7.137-111.839 h33.687l10.95,37.336c3.483,12.94,6.966,26.884,9.455,39.982h0.498c3.154-12.936,6.972-27.717,10.621-40.157l11.944-37.167h33.022 l6.138,111.839h-24.722V512.721z M430.191,512.721h-69.867V400.882h25.392v90.603h44.476V512.721z M97.2,366.758V21.605h250.204 v110.519c0,5.961,4.83,10.8,10.8,10.8h95.396l0.011,223.834H97.2z"></path><g><path d="M272.025,64.505c72.452-0.276,132.891,59.034,132.748,132.92c-0.143,72.101-59.542,133.046-133.855,132.481 c-72.839-0.559-131.662-61.606-131.425-133.312C139.736,124.137,199.476,64.299,272.025,64.505z M154.462,161.196 c0.433,0.309,0.865,0.606,1.295,0.912c1.313-0.794,2.734-1.463,3.91-2.418c2.618-2.138,5.07-4.498,7.673-6.657 c15.617-12.968,32.616-16.757,51.371-7.317c6.344,3.19,12.696,6.516,18.602,10.437c26.109,17.328,51.671,35.521,78.208,52.165 c20.999,13.181,43.87,22.61,68.46,27.382c3.797,0.741,5.5-0.253,6.223-3.644c0.991-4.617,1.566-9.337,2.816-13.877 c0.833-2.987-0.274-4.095-2.812-4.688c-13.072-3.082-25.069-8.878-35.495-17.01c-19.068-14.881-37.6-30.478-56.083-46.105 c-12.788-10.826-24.94-22.409-37.687-33.302c-17.305-14.769-37.589-17.497-59.173-13.176c-5.329,1.062-11.588,2.252-15.325,5.664 c-12.852,11.752-23.042,25.716-29.133,42.282C156.189,154.895,155.4,158.08,154.462,161.196z M373.513,266.599 c-0.49-0.529-0.976-1.046-1.472-1.576c-1.571,0.396-3.143,0.757-4.703,1.184c-16.675,4.567-33.598,8.564-50.899,7.699 c-14.939-0.751-29.922-2.787-44.624-5.579c-25.423-4.831-48.977-15.414-72.792-25.196c-7.538-3.093-15.704-5.762-23.738-6.308 c-10.747-0.732-16.648,10.136-11.541,19.42c12.01,21.821,29.049,38.586,51.073,50.229c1.767,0.928,3.786,1.371,6.692,2.399 c-0.583-2.896-0.839-4.52-1.237-6.097c-2.917-11.585,1.814-16.437,13.687-13.99c1.653,0.343,3.312,0.675,4.952,1.107 c28.571,7.372,57.43,10.821,86.872,6.381c15.562-2.352,30.786-5.374,40.526-19.723 C368.608,273.154,371.113,269.903,373.513,266.599z M236.931,79.748c0.087,0.707,0.171,1.405,0.258,2.112 c1.237,0.206,2.463,0.546,3.7,0.604c6.415,0.358,12.83,0.585,19.24,0.973c23.457,1.421,44.149,9.851,60.054,27.108 c12.355,13.387,22.744,28.582,34.383,42.654c5.136,6.225,10.815,12.139,16.954,17.378c4.614,3.937,10.172,3.375,14.074,0.192 c4.262-3.478,4.947-6.787,2.769-13.239c-7.693-22.805-21.151-41.7-40.136-56.252c-27.527-21.12-58.725-30.048-93.379-25.444 C248.817,76.631,242.903,78.419,236.931,79.748z"></path></g></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>'},588:function(e,t){e.exports='<svg version="1.1" id="__33xIh3F__Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 54.953 54.953" style="enable-background:new 0 0 54.953 54.953;" xml:space="preserve"><path d="M45.297,21.946l9.656-5.517L27.477,0.825L0,16.429l9.656,5.517L0,27.429l9.656,5.517L0,38.429l27.477,15.698l27.476-15.698 l-9.656-5.483l9.656-5.517L45.297,21.946z M27.477,3.125l23.435,13.309l-23.435,13.39L4.041,16.434L27.477,3.125z M11.675,23.099 l15.802,9.028l15.802-9.028l7.633,4.335l-23.435,13.39L4.041,27.434L11.675,23.099z M50.912,38.434l-23.435,13.39L4.041,38.434 l7.634-4.335l15.802,9.028l15.802-9.028L50.912,38.434z"></path><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>'},589:function(e,t){e.exports='<svg id="__3pPfvvc__Capa_1" enable-background="new 0 0 551.13 551.13" viewBox="0 0 551.13 551.13" xmlns="http://www.w3.org/2000/svg"><path d="m499.462 0h-378.902c-9.52 0-17.223 7.703-17.223 17.223v51.668h34.446v-34.445h344.456v482.239h-344.456v-34.446h-34.446v51.668c0 9.52 7.703 17.223 17.223 17.223h378.902c9.52 0 17.223-7.703 17.223-17.223v-516.684c0-9.52-7.704-17.223-17.223-17.223z"></path><path d="m204.588 366.725 24.354 24.354 115.514-115.514-115.514-115.514-24.354 24.354 73.937 73.937h-244.079v34.446h244.08z"></path></svg>'},590:function(e,t){e.exports='<svg id="__1QdHuBV__Capa_1" enable-background="new 0 0 551.13 551.13" viewBox="0 0 551.13 551.13" xmlns="http://www.w3.org/2000/svg"><path d="m435.616 160.051-24.354 24.354 73.937 73.937h-244.08v34.446h244.08l-73.937 73.937 24.354 24.354 115.514-115.514z"></path><path d="m378.902 516.685h-344.456v-482.239h344.456v34.446h34.446v-51.669c0-9.52-7.703-17.223-17.223-17.223h-378.902c-9.52 0-17.223 7.703-17.223 17.223v516.684c0 9.52 7.703 17.223 17.223 17.223h378.902c9.52 0 17.223-7.703 17.223-17.223v-51.668h-34.446z"></path></svg>'},591:function(e,t){e.exports='<svg version="1.1" id="__1l5lZyL__Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 550.801 550.801" style="enable-background:new 0 0 550.801 550.801;" xml:space="preserve"><g><g><path d="M267.342,414.698c-6.613,0-10.884,0.585-13.413,1.165v85.72c2.534,0.586,6.616,0.586,10.304,0.586 c26.818,0.189,44.315-14.576,44.315-45.874C308.738,429.079,292.803,414.698,267.342,414.698z"></path><path d="M152.837,414.313c-6.022,0-10.104,0.58-12.248,1.16v38.686c2.531,0.58,5.643,0.78,9.903,0.78 c15.757,0,25.471-7.973,25.471-21.384C175.964,421.506,167.601,414.313,152.837,414.313z"></path><path d="M475.095,131.992c-0.032-2.526-0.833-5.021-2.568-6.993L366.324,3.694c-0.021-0.034-0.062-0.045-0.084-0.076 c-0.633-0.707-1.36-1.29-2.141-1.804c-0.232-0.15-0.475-0.285-0.718-0.422c-0.675-0.366-1.382-0.67-2.13-0.892 c-0.19-0.058-0.38-0.14-0.58-0.192C359.87,0.114,359.037,0,358.203,0H97.2C85.292,0,75.6,9.693,75.6,21.601v507.6 c0,11.913,9.692,21.601,21.6,21.601H453.6c11.908,0,21.601-9.688,21.601-21.601V133.202 C475.2,132.796,475.137,132.398,475.095,131.992z M193.261,463.873c-10.104,9.523-25.072,13.806-42.569,13.806 c-3.882,0-7.391-0.2-10.102-0.58v46.839h-29.35V394.675c9.131-1.55,21.967-2.721,40.047-2.721 c18.267,0,31.292,3.501,40.036,10.494c8.363,6.612,13.985,17.497,13.985,30.322C205.308,445.605,201.042,456.49,193.261,463.873z M318.252,508.392c-13.785,11.464-34.778,16.906-60.428,16.906c-15.359,0-26.238-0.97-33.637-1.94V394.675 c10.887-1.74,25.083-2.721,40.046-2.721c24.867,0,41.004,4.472,53.645,13.995c13.61,10.109,22.164,26.241,22.164,49.37 C340.031,480.4,330.897,497.697,318.252,508.392z M439.572,417.225h-50.351v29.932h47.039v24.11h-47.039v52.671H359.49V392.935 h80.082V417.225z M97.2,366.752V21.601h250.203v110.515c0,5.961,4.831,10.8,10.8,10.8H453.6l0.011,223.836H97.2z"></path><path d="M386.205,232.135c-0.633-0.059-15.852-1.448-39.213-1.448c-7.319,0-14.691,0.143-21.969,0.417 c-46.133-34.62-83.919-69.267-104.148-88.684c0.369-2.138,0.623-3.828,0.741-5.126c2.668-28.165-0.298-47.179-8.786-56.515 c-5.558-6.101-13.721-8.131-22.233-5.806c-5.286,1.385-15.071,6.513-18.204,16.952c-3.459,11.536,2.101,25.537,16.708,41.773 c0.232,0.246,5.189,5.44,14.196,14.241c-5.854,27.913-21.178,88.148-28.613,117.073c-17.463,9.331-32.013,20.571-43.277,33.465 l-0.738,0.844l-0.477,1.013c-1.16,2.437-6.705,15.087-2.542,25.249c1.901,4.62,5.463,7.995,10.302,9.767l1.297,0.349 c0,0,1.17,0.253,3.227,0.253c9.01,0,31.25-4.735,43.179-48.695l2.89-11.138c41.639-20.239,93.688-26.768,131.415-28.587 c19.406,14.391,38.717,27.611,57.428,39.318l0.611,0.354c0.907,0.464,9.112,4.515,18.721,4.524l0,0 c13.732,0,23.762-8.427,27.496-23.113l0.189-1.004c1.044-8.393-1.065-15.958-6.096-21.872 C407.711,233.281,387.978,232.195,386.205,232.135z M142.812,319.744c-0.084-0.1-0.124-0.194-0.166-0.3 c-0.896-2.157,0.179-7.389,1.761-11.222c6.792-7.594,14.945-14.565,24.353-20.841 C159.598,317.039,146.274,319.603,142.812,319.744z M200.984,122.695L200.984,122.695c-14.07-15.662-13.859-23.427-13.102-26.041 c1.242-4.369,6.848-6.02,6.896-6.035c2.824-0.768,4.538-0.617,6.064,1.058c3.451,3.791,6.415,15.232,5.244,36.218 C202.764,124.557,200.984,122.695,200.984,122.695z M193.714,256.068l0.243-0.928l-0.032,0.011 c7.045-27.593,17.205-67.996,23.047-93.949l0.211,0.201l0.021-0.124c18.9,17.798,47.88,43.831,82.579,70.907l-0.39,0.016 l0.574,0.433C267.279,235.396,228.237,241.84,193.714,256.068z M408.386,265.12c-2.489,9.146-7.277,10.396-11.665,10.396l0,0 c-5.094,0-9.998-2.12-11.116-2.632c-12.741-7.986-25.776-16.688-38.929-25.998c0.105,0,0.2,0,0.316,0 c22.549,0,37.568,1.369,38.158,1.411c3.766,0.14,15.684,1.9,20.82,7.938C407.984,258.602,408.755,261.431,408.386,265.12z"></path></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>'},592:function(e,t){e.exports='<svg version="1.1" id="__16RUpcS__Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 422.777 422.777" style="enable-background:new 0 0 422.777 422.777;" xml:space="preserve"><g><g><path d="M416.628,82.068l-75.84-75.84c-8.226-8.198-21.534-8.198-29.76,0l-83.56,83.16l-20.96,20.96l-20.88,21.04l-104.8,104.8 l-20.96,20.96l-53.72,53.64c-8.198,8.226-8.198,21.534,0,29.76l76,76c8.226,8.198,21.534,8.198,29.76,0l304.72-304.72 C424.826,103.602,424.826,90.295,416.628,82.068z M409.668,104.868l-304.72,304.72c-4.351,4.125-11.169,4.125-15.52,0l-76-76 c-4.272-4.292-4.272-11.228,0-15.52l50.04-50.32l39.12,39.12c1.875,2.057,5.063,2.205,7.12,0.33 c2.057-1.875,2.205-5.063,0.33-7.12c-0.105-0.115-0.215-0.225-0.33-0.33l-39.12-39.12l13.84-13.84l17.76,17.76 c1.875,2.057,5.063,2.205,7.12,0.33c2.057-1.875,2.205-5.063,0.33-7.12c-0.105-0.115-0.215-0.225-0.33-0.33l-17.84-17.76 l13.84-13.84l17.76,17.76c2.057,1.875,5.245,1.727,7.12-0.33c1.753-1.924,1.753-4.866,0-6.79l-17.76-17.76l13.84-13.84 l39.12,39.12c2.057,1.875,5.245,1.727,7.12-0.33c1.753-1.924,1.753-4.866,0-6.79l-39.12-39.12l13.84-13.84l17.76,17.76 c1.875,2.057,5.063,2.205,7.12,0.33s2.205-5.063,0.33-7.12c-0.105-0.115-0.215-0.225-0.33-0.33l-17.76-17.76l13.84-13.84 l17.76,17.76c2.057,1.875,5.245,1.727,7.12-0.33c1.753-1.924,1.753-4.866,0-6.79l-17.6-17.76l13.84-13.84l39.12,39.12 c2.192,1.716,5.359,1.33,7.075-0.862c1.442-1.842,1.427-4.433-0.035-6.258l-39.2-39.12l13.84-13.84l17.76,17.76 c1.875,2.057,5.063,2.205,7.12,0.33c2.057-1.875,2.205-5.063,0.33-7.12c-0.105-0.115-0.215-0.225-0.33-0.33l-17.76-17.76 l13.84-13.84l17.76,17.76c2.057,1.875,5.245,1.727,7.12-0.33c1.753-1.924,1.753-4.866,0-6.79l-17.76-17.76l13.84-13.84 l39.12,39.12c2.057,1.875,5.245,1.727,7.12-0.33c1.753-1.924,1.753-4.866,0-6.79l-39.12-39.12l13.84-13.84l17.76,17.76 c2.057,1.875,5.245,1.727,7.12-0.33c1.753-1.924,1.753-4.866,0-6.79l-17.76-17.76l13.84-13.84l39.12,39.12 c2.057,1.875,5.245,1.727,7.12-0.33c1.753-1.924,1.753-4.866,0-6.79l-39.12-39.12l16.88-16.88c4.351-4.125,11.169-4.125,15.52,0 l76,76c4.272,4.292,4.272,11.228,0,15.52L409.668,104.868z"></path></g></g><g><g><path d="M91.498,331.418c-0.01-0.01-0.02-0.02-0.03-0.03c-9.613-9.565-25.147-9.565-34.76,0c-9.615,9.599-9.628,25.175-0.03,34.79 c9.599,9.615,25.175,9.628,34.79,0.03C101.084,356.609,101.097,341.033,91.498,331.418z M84.428,358.988l-0.04,0.08 c-5.677,5.695-14.896,5.708-20.591,0.031c-5.695-5.677-5.708-14.896-0.031-20.591s14.896-5.708,20.591-0.031 c0.01,0.01,0.021,0.021,0.031,0.031C90.012,344.171,90.03,353.304,84.428,358.988z"></path></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>'},593:function(e,t){e.exports='<svg version="1.1" id="__2mLrIoK__Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 478.024 478.024" style="enable-background:new 0 0 478.024 478.024;" xml:space="preserve"><g><g><path d="M411.703,73.561c-45.117-47.093-107.542-73.67-172.76-73.55C107.145-0.155,0.166,106.554,0,238.353 c-0.082,65.17,26.492,127.538,73.55,172.623c0.137,0.136,0.188,0.341,0.324,0.461c1.382,1.331,2.884,2.458,4.284,3.738 c3.84,3.413,7.68,6.946,11.725,10.24c2.167,1.707,4.42,3.413,6.639,4.983c3.823,2.85,7.646,5.7,11.639,8.329 c2.714,1.707,5.513,3.413,8.294,5.12c3.686,2.219,7.356,4.454,11.162,6.485c3.226,1.707,6.519,3.174,9.796,4.727 c3.584,1.707,7.117,3.413,10.786,4.949c3.669,1.536,7.356,2.731,11.076,4.062s6.929,2.56,10.496,3.652 c4.028,1.212,8.158,2.15,12.254,3.157c3.413,0.836,6.724,1.792,10.24,2.475c4.71,0.939,9.489,1.536,14.268,2.185 c2.953,0.41,5.837,0.99,8.823,1.28c7.817,0.768,15.701,1.195,23.654,1.195s15.838-0.427,23.654-1.195 c2.987-0.29,5.871-0.87,8.823-1.28c4.779-0.649,9.557-1.246,14.268-2.185c3.413-0.683,6.827-1.707,10.24-2.475 c4.096-1.007,8.226-1.946,12.254-3.157c3.567-1.092,7.014-2.423,10.496-3.652c3.482-1.229,7.441-2.56,11.076-4.062 s7.202-3.26,10.786-4.949c3.277-1.553,6.571-3.021,9.796-4.727c3.806-2.031,7.475-4.267,11.162-6.485 c2.782-1.707,5.581-3.26,8.294-5.12c3.994-2.628,7.817-5.478,11.639-8.329c2.219-1.707,4.471-3.243,6.639-4.983 c4.045-3.243,7.885-6.69,11.725-10.24c1.399-1.28,2.901-2.406,4.284-3.738c0.136-0.119,0.188-0.324,0.324-0.461 C499.644,319.798,502.881,168.732,411.703,73.561z M373.344,393.107c-3.106,2.731-6.315,5.325-9.557,7.834 c-1.911,1.468-3.823,2.918-5.786,4.318c-3.089,2.236-6.229,4.352-9.421,6.383c-2.321,1.485-4.693,2.918-7.083,4.318 c-3.004,1.707-6.059,3.413-9.148,5.12c-2.731,1.399-5.513,2.714-8.311,4.011s-5.888,2.679-8.909,3.891 c-3.021,1.212-6.229,2.355-9.387,3.413c-2.884,0.99-5.768,2.014-8.687,2.884c-3.413,1.024-6.98,1.86-10.513,2.714 c-2.765,0.648-5.495,1.382-8.294,1.929c-4.045,0.785-8.175,1.331-12.322,1.894c-2.355,0.307-4.693,0.734-7.066,0.973 c-6.554,0.631-13.193,1.007-19.9,1.007s-13.346-0.375-19.9-1.007c-2.372-0.239-4.71-0.666-7.066-0.973 c-4.147-0.563-8.277-1.109-12.322-1.894c-2.799-0.546-5.53-1.28-8.294-1.929c-3.533-0.853-7.049-1.707-10.513-2.714 c-2.918-0.87-5.803-1.894-8.687-2.884c-3.157-1.092-6.315-2.202-9.387-3.413c-3.072-1.212-5.973-2.543-8.909-3.891 s-5.581-2.611-8.311-4.011c-3.089-1.604-6.144-3.294-9.148-5.12c-2.389-1.399-4.762-2.833-7.083-4.318 c-3.191-2.031-6.332-4.147-9.421-6.383c-1.963-1.399-3.874-2.85-5.786-4.318c-3.243-2.509-6.451-5.12-9.557-7.834 c-0.751-0.563-1.434-1.28-2.167-1.929c0.763-58.057,38.06-109.321,93.065-127.915c27.503,13.083,59.435,13.083,86.938,0 c55.004,18.594,92.301,69.857,93.065,127.915C374.76,391.827,374.077,392.476,373.344,393.107z M179.43,136.849 c18.479-32.864,60.1-44.525,92.964-26.046s44.525,60.1,26.046,92.964c-6.131,10.904-15.141,19.914-26.046,26.046 c-0.085,0-0.188,0-0.29,0.102c-4.526,2.519-9.309,4.545-14.268,6.042c-0.887,0.256-1.707,0.597-2.645,0.819 c-1.707,0.444-3.499,0.751-5.257,1.058c-3.31,0.579-6.659,0.915-10.018,1.007h-1.946c-3.359-0.092-6.708-0.428-10.018-1.007 c-1.707-0.307-3.516-0.614-5.256-1.058c-0.905-0.222-1.707-0.563-2.645-0.819c-4.959-1.497-9.742-3.522-14.268-6.042l-0.307-0.102 C172.612,211.334,160.951,169.713,179.43,136.849z M405.753,357.336L405.753,357.336c-10.952-51.083-44.59-94.39-91.375-117.64 c38.245-41.661,35.475-106.438-6.186-144.683c-41.661-38.245-106.438-35.475-144.683,6.186 c-35.954,39.166-35.954,99.332,0,138.497c-46.785,23.251-80.423,66.557-91.375,117.64C6.69,265.153,28.366,137.371,120.549,71.927 s219.965-43.768,285.409,48.415c24.601,34.653,37.807,76.104,37.786,118.602C443.744,281.405,430.46,322.802,405.753,357.336z"></path></g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>'},605:function(e,t,n){function a(e){n(457)}var i=n(11)(n(373),n(626),a,null,null);e.exports=i.exports},606:function(e,t,n){function a(e){n(458)}var i=n(11)(n(374),n(627),a,"data-v-32132a8e",null);e.exports=i.exports},607:function(e,t,n){function a(e){n(474)}var i=n(11)(n(375),n(643),a,"data-v-efdfbab2",null);e.exports=i.exports},608:function(e,t,n){function a(e){n(466)}var i=n(11)(n(376),n(636),a,"data-v-7445036b",null);e.exports=i.exports},609:function(e,t,n){var a=n(11)(n(377),n(630),null,null,null);e.exports=a.exports},610:function(e,t,n){function a(e){n(471),n(472)}var i=n(11)(n(378),n(641),a,"data-v-bfc7ef4e",null);e.exports=i.exports},611:function(e,t,n){function a(e){n(467)}var i=n(11)(n(379),n(637),a,"data-v-74728dc0",null);e.exports=i.exports},612:function(e,t,n){function a(e){n(469)}var i=n(11)(n(380),n(639),a,null,null);e.exports=i.exports},613:function(e,t,n){function a(e){n(468)}var i=n(11)(n(381),n(638),a,"data-v-75bfa064",null);e.exports=i.exports},614:function(e,t,n){function a(e){n(461)}var i=n(11)(n(382),n(631),a,"data-v-40ee86a1",null);e.exports=i.exports},615:function(e,t,n){function a(e){n(462)}var i=n(11)(n(383),n(632),a,"data-v-4c86faa5",null);e.exports=i.exports},616:function(e,t,n){function a(e){n(464)}var i=n(11)(n(384),n(634),a,"data-v-56e742bf",null);e.exports=i.exports},617:function(e,t,n){function a(e){n(456)}var i=n(11)(n(385),n(625),a,"data-v-052eff7d",null);e.exports=i.exports},618:function(e,t,n){function a(e){n(455),n(454)}var i=n(11)(n(386),n(624),a,"data-v-046784f9",null);e.exports=i.exports},619:function(e,t,n){function a(e){n(475)}var i=n(11)(n(387),n(644),a,null,null);e.exports=i.exports},620:function(e,t,n){function a(e){n(460)}var i=n(11)(n(388),n(629),a,"data-v-3ef4d475",null);e.exports=i.exports},621:function(e,t,n){function a(e){n(473)}var i=n(11)(n(390),n(642),a,"data-v-c99529ba",null);e.exports=i.exports},622:function(e,t,n){function a(e){n(463)}var i=n(11)(n(391),n(633),a,"data-v-563c36c0",null);e.exports=i.exports},623:function(e,t,n){function a(e){n(465)}var i=n(11)(n(392),n(635),a,"data-v-65b9ccb8",null);e.exports=i.exports},624:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{attrs:{id:"map"}})},staticRenderFns:[]}},625:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("ul",e._l(e.logosList,function(t){return n("li",{key:t.url},[t.link?n("a",{attrs:{href:t.link,target:"_blank"}},[t.imgUrl?n("img",{attrs:{src:t.imgUrl,width:t.size.width,height:t.size.height}}):e._e(),e._v(" "),t.text?n("span",[e._v(e._s(t.text))]):e._e()]):[t.imgUrl?n("img",{attrs:{src:t.imgUrl,width:t.size.width,height:t.size.height}}):e._e(),e._v(" "),t.text?n("span",[e._v(e._s(t.text))]):e._e()]],2)}),0)])},staticRenderFns:[]}},626:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("mapPane"),e._v(" "),n("search"),e._v(" "),n("mobileToolsBar"),e._v(" "),e.isMobile?e._e():n("div",{attrs:{id:"left-container"}},[n("div",{staticClass:"layers"},[n("layerSelector"),e._v(" "),e.showConsole?n("editor-console"):e._e()],1),e._v(" "),n("annotations",{directives:[{name:"show",rawName:"v-show",value:this.$parent.loaded,expression:"this.$parent.loaded"}]})],1),e._v(" "),e.isMobile?n("div",{staticClass:"mobile-layers"},[n("layerSelector"),e._v(" "),e.layerSelectorActive&&e.showConsole?n("editor-console"):e._e()],1):e._e(),e._v(" "),e.isMobile?n("annotations",{directives:[{name:"show",rawName:"v-show",value:this.$parent.loaded,expression:"this.$parent.loaded"}]}):e._e(),e._v(" "),n("banner",{directives:[{name:"show",rawName:"v-show",value:this.$parent.loaded,expression:"this.$parent.loaded"}]}),e._v(" "),n("contextInfoModal"),e._v(" "),n("featureInfo"),e._v(" "),n("feedback"),e._v(" "),n("KMLOverlay"),e._v(" "),e.llLogos?n("Logos",{attrs:{id:"ll_logos",logosList:e.llLogos}}):e._e(),e._v(" "),n("measure"),e._v(" "),n("file-drop",{attrs:{show:e.showFileDropModal},on:{disable:e.hideFileDropModal}}),e._v(" "),n("login-modal",{attrs:{show:e.showLoginModal},on:{disable:e.hideLoginModal}}),e._v(" "),n("v-dialog")],1)},staticRenderFns:[]}},627:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"annotations transparent-panel"},[e.annotationsActive?n("div",{staticClass:"annotations-button-panel"},[n("div",{staticClass:"annotations-title"},[e._v(e._s(e.$t("annotations.title")))]),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.open,expression:"!open"}],staticClass:"button actions",on:{click:e.clearVector}},[n("icon",{attrs:{name:"trash"}})],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.open,expression:"!open"}],staticClass:"button actions",on:{click:e.toggleLayer}},[e.visible?n("icon",{attrs:{name:"eye"}}):n("icon",{attrs:{name:"eye-slash"}})],1),e._v(" "),n("div",{staticClass:"button",on:{click:e.togglePanel}},[e.open?n("icon",{attrs:{name:"angle-up"}}):n("icon",{attrs:{name:"angle-down"}})],1)]):e._e(),e._v(" "),e.open?n("div",{staticClass:"annotations-panel"},[n("div",{staticClass:"geometry-types-selection"},e._l(e.geometryTypes,function(t,a){return n("div",{key:t,staticClass:"selector-button",class:{active:e.curGeomType===t,last:a===e.geometryTypes.length-1},on:{click:function(n){e.curGeomType=t}}},[e._v("\n        "+e._s(e.$t("annotations.geomTypes."+t))+"\n      ")])}),0),e._v(" "),n("div",{staticClass:"feature-list"})]):e._e(),e._v(" "),n("div",{staticClass:"ol-popup",attrs:{id:"popup-annotations"}},[n("span",{staticClass:"ol-popup-closer",on:{click:function(t){return e.displayPopup(!1)}}}),e._v(" "),n("div",{attrs:{id:"popup-content-annotations"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.featureText,expression:"featureText"}],attrs:{placeholder:"Add label",type:"text"},domProps:{value:e.featureText},on:{input:function(t){t.target.composing||(e.featureText=t.target.value)}}}),n("button",{staticClass:"f-label",on:{click:e.setFeatureStyle}},[e._v("Add")])])])])},staticRenderFns:[]}},628:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal-mask",on:{mousedown:function(t){return e.$emit("close")}}},[n("div",{staticClass:"modal-container",on:{mousedown:function(e){e.stopPropagation()}}},[e.$slots.header?n("div",{staticClass:"modal-header"},[e._t("header")],2):e._e(),e._v(" "),n("div",{staticClass:"modal-body"},[e._t("body",[e._v("\n            default body\n          ")])],2),e._v(" "),n("hr"),e._v(" "),n("div",{staticClass:"modal-footer"},[e._t("footer",[n("a",{staticClass:"modal-default-button",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.$emit("close")}}},[e._v("\n              Close\n            ")])])],2)])])])},staticRenderFns:[]}},629:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isMobile?n("div",{staticClass:"transparent-panel",attrs:{id:"mobile-tools-bar"}},[n("div",{staticClass:"mobile-tool-bar-button",on:{click:e.toggleLocation}},[n("icon",{class:{"icon-active":e.locationActive},attrs:{name:"map-marker"}}),e._v(" "),e.gettingLocation?n("div",{staticClass:"loader",attrs:{id:"map-marker-loader"}}):e._e()],1),e._v(" "),n("div",{staticClass:"mobile-tool-bar-button",on:{click:function(t){return e.toggleTool("layerSelector")}}},[n("icon",{class:e.activeClass("layerSelector"),attrs:{name:"slms-layers"}})],1),e._v(" "),n("div",{staticClass:"mobile-tool-bar-button",on:{click:function(t){return e.toggleTool("measure")}}},[n("icon",{class:e.activeClass("measure"),attrs:{name:"slms-ruler"}})],1),e._v(" "),n("div",{staticClass:"mobile-tool-bar-button",on:{click:function(t){return e.toggleTool("annotations")}}},[n("icon",{class:e.activeClass("annotations"),attrs:{name:"sticky-note"}})],1),e._v(" "),n("div",{staticClass:"mobile-tool-bar-button",on:{click:function(t){return e.toggleTool("feedback")}}},[n("icon",{class:e.activeClass("feedback"),attrs:{name:"slms-feedback"}})],1),e._v(" "),n("div",{staticClass:"mobile-tool-bar-button",on:{click:function(t){return e.toggleTool("kmlUpload")}}},[n("icon",{class:e.activeClass("kmlUpload"),attrs:{name:"slms-kml"}})],1),e._v(" "),e.enablePrint?n("div",{staticClass:"mobile-tool-bar-button",on:{click:e.printMap}},[n("icon",{attrs:{name:"slms-pdf"}}),e._v(" "),e.printingInProgress?n("div",{staticClass:"loader",attrs:{id:"print-map-loader"}}):e._e()],1):e._e()]):e._e()},staticRenderFns:[]}},630:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.legendUrls,function(e,t){return n("div",{key:"legendUrl-"+t},[n("img",{attrs:{src:e}})])}),0)},staticRenderFns:[]}},631:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.kmlOverlay?n("div",{attrs:{id:"outer"}},[n("div",{attrs:{id:"message"}},[n("button",{staticClass:"small",attrs:{id:"clearButton"},on:{click:e.clearFeedback}},[e._v(e._s(e.$t("kmlOverlay.clear")))])])]):e._e()},staticRenderFns:[]}},632:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.layerSelectorActive?n("ul",{attrs:{id:"layer-selector"}},[n("item",{staticClass:"item",attrs:{conf:e.groups}})],1):e._e()},staticRenderFns:[]}},633:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"result"},[n("div",{staticClass:"box"},[n("article",{staticClass:"media"},[n("div",{staticClass:"media-content"},[n("div",{staticClass:"content",on:{click:function(t){return e.clickHandler(e.result)}}},[n("p",[n("strong",[e._v(e._s(e.result.title))]),e._v(" "),n("br"),e._v("\n            "+e._s(e.result.fromtable)+"\n          ")])])])])])])},staticRenderFns:[]}},634:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("modal",[n("h1",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.error?"Error":"Login"))]),e._v(" "),n("div",{staticClass:"body",attrs:{slot:"body"},slot:"body"},[e.error?n("div",[n("p",[e._v(e._s(e.error))])]):n("table",[n("tr",[n("td",[e._v("User:")]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.user,expression:"user"}],attrs:{type:"text",placeholder:"Enter your username"},domProps:{value:e.user},on:{input:function(t){t.target.composing||(e.user=t.target.value)}}})])]),e._v(" "),n("tr",[n("td",[e._v("Pasword:")]),e._v(" "),n("td",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Enter your password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})])])])]),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[e.error?n("a",{staticClass:"modal-default-button",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.cancel(t)}}},[e._v("\n      Ok\n    ")]):[n("a",{staticClass:"modal-default-button",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.submit(t)}}},[e._v("\n        Login\n      ")]),e._v(" "),n("a",{staticClass:"modal-default-button",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.cancel(t)}}},[e._v("\n        Cancel\n      ")])]],2)]):e._e()},staticRenderFns:[]}},635:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown"},[n("ul",{staticClass:"dropdown-content"},e._l(e.times,function(t){return n("li",{key:t.id},[n("span",{class:{selected:t===e.selectedTime},on:{click:function(n){return e.set(t)}}},[e._v(e._s(t.humanReadable))]),e._v(" "),n("br")])}),0)])},staticRenderFns:[]}},636:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("modal",{attrs:{name:"context-info-modal",draggable:!0,resizable:!0,minWidth:250,minHeight:220},on:{closed:e.resetState}},[n("div",{staticClass:"context-info-modal"},[n("button",{staticClass:"btn",on:{click:e.closeByName}},[e._v("X")]),e._v(" "),n("div",{staticClass:"content",domProps:{innerHTML:e._s(e.content)}}),e._v(" "),e.showDownloadLinks?n("div",{staticClass:"context-info-modal-download-links"},[n("div",[n("b",[e._v(e._s(e.layerInfo.label))])]),e._v(" "),n("br"),e._v(" "),n("button",{on:{click:e.requestEmailChange}},[e._v(e._s(e.$t("contextInfoModal.changeEmailLabel")))]),e._v(" "),n("br"),e._v(" "),n("table",[n("tbody",e._l(e.downloadLinksIntl,function(t){return n("tr",{key:t.url},[n("td",[n("a",{attrs:{href:t.url,target:"_blank",rel:"noopener noreferrer"},on:{click:function(n){return e.processDownloadLink(t)}}},[e._v(e._s(t.label))])])])}),0)])]):e._e(),e._v(" "),e.showEmailPrompt?n("div",{staticClass:"context-info-modal-email-content"},[n("h3",[e._v(e._s(e.$t("contextInfoModal.emailTitle")))]),e._v(" "),n("input",{class:{invalid:e.emailInvalid},attrs:{type:"text"},domProps:{value:e.email},on:{change:e.changeEmail}}),e._v(" "),n("button",{on:{click:e.validateEmailAndContinue}},[e._v(e._s(e.$t("contextInfoModal.submitDataLabel")))])]):e._e()])])},staticRenderFns:[]}},637:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.enableFeedback?n("div",{attrs:{id:"feedback"}},[e.categories.length?n("div",{attrs:{id:"feedback-category"}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedCategory,expression:"selectedCategory"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedCategory=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"",disabled:""}},[e._v(e._s(e.$t("feedback.selectCategory")))]),e._v(" "),e._l(e.categories,function(t){return n("option",{key:t.id},[e._v(e._s(t))])})],2)]):e._e(),e._v(" "),n("div",{attrs:{id:"tools"}},[e._v("\n    Draw:\n    "),e.drawOptions.includes("Point")?n("button",{staticClass:"small",class:{active:"Point"===e.draw},attrs:{type:"button"},on:{click:function(t){return e.setDrawTool("Point")}}},[e._v("Points")]):e._e(),e._v(" "),e.drawOptions.includes("Polygon")?n("button",{staticClass:"small",class:{active:"Polygon"===e.draw},attrs:{type:"button"},on:{click:function(t){return e.setDrawTool("Polygon")}}},[e._v("Polygons")]):e._e()]),e._v(" "),e.senderEmailIsRequired?n("div",{attrs:{id:"sender"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.senderEmail,expression:"senderEmail"}],attrs:{id:"message-sender",type:"email",name:"email",placeholder:"Write your email"},domProps:{value:e.senderEmail},on:{input:function(t){t.target.composing||(e.senderEmail=t.target.value)}}})]):e._e(),e._v(" "),n("div",{attrs:{id:"message"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],attrs:{id:"message-text",rows:"6",placeholder:"Write your message"},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}})]),e._v(" "),n("div",{attrs:{id:"buttons"}},[n("button",{staticClass:"small",attrs:{type:"button"},on:{click:e.disableFeedback}},[e._v("Cancel")]),e._v(" "),n("button",{staticClass:"small",attrs:{type:"button",disabled:!1===e.drew},on:{click:e.clear}},[e._v("Clear")]),e._v(" "),n("button",{staticClass:"small danger",attrs:{type:"button",disabled:e.disableSend},on:{click:e.sendFeedback}},[e._v("Send")])])]):e._e()},staticRenderFns:[]}},638:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",[e.conf.isGroup?n("div",{staticClass:"group",class:{dimmed:!e.nContexts},on:{click:e.toggleContent}},[n("span",{staticClass:"line icon"},[n("icon",{staticClass:"open-button",attrs:{name:e.open?"minus-square-o":"plus-square-o"}}),e._v(" "),n("span",{class:{handle:e.editing}},[e._v(e._s(e.isRoot?e.$t("layerSelector.layers"):e.label))])],1),e._v(" "),e.conf.infoFile?n("span",{staticClass:"info-link icon",on:{click:function(t){return t.stopPropagation(),e.showInfo(t)}}},[n("icon",{attrs:{name:"info-circle"}})],1):e._e(),e._v(" "),n("span",{staticClass:"counter"},[e._v(e._s(e.nActive?"â["+e.locNActive+"â]":null))]),e._v(" "),e.editing&&!e.isRoot?[n("span",{staticClass:"icon",on:{click:function(t){return t.stopPropagation(),e.editItem(t)}}},[n("icon",{staticClass:"icon edit",attrs:{name:"pencil-square-o"}})],1),e._v(" "),n("span",{staticClass:"icon",on:{click:function(t){return t.stopPropagation(),e.deleteItem(t)}}},[n("icon",{staticClass:"icon edit",attrs:{name:"trash-o"}})],1)]:e._e()],2):n("div",[e.hasLayers?n("span",{staticClass:"icon",on:{click:e.toggleContent}},[e.open?n("icon",{staticClass:"open-button",attrs:{name:"caret-down"}}):n("icon",{staticClass:"open-button",attrs:{name:"caret-right"}})],1):e._e(),e._v(" "),e.hasLayers?n("span",{staticClass:"icon",on:{click:e.toggleActive}},[e.conf.parent.exclusive?[e.active?n("icon",{staticClass:"activate-button",class:{highlighted:e.highlighted,active:e.active},attrs:{name:"dot-circle-o"}}):n("icon",{staticClass:"activate-button",class:{highlighted:e.highlighted,active:e.active},attrs:{name:"circle"}})]:[e.active?n("icon",{staticClass:"activate-button",class:{highlighted:e.highlighted,active:e.active},attrs:{name:"check-square"}}):n("icon",{staticClass:"activate-button",class:{highlighted:e.highlighted,active:e.active},attrs:{name:"square"}})]],2):e._e(),e._v(" "),e.conf.hasLegends?n("span",{staticClass:"icon",staticStyle:{"padding-left":"2px","padding-right":"2px"},on:{click:e.toggleLegend}},[n("icon",{staticClass:"legend-link",class:{active:e.active},attrs:{name:"th-list"}})],1):e._e(),e._v(" "),e.conf.inlineLegendUrl?n("img",{staticClass:"inline-legend",attrs:{src:e.conf.inlineLegendUrl}}):e._e(),e._v(" "),n("span",{class:{dimmed:!e.hasLayers,handle:e.editing},on:{mouseover:function(t){return e.highlightContext(!0)},mouseout:function(t){return e.highlightContext(!1)},click:e.toggleActive}},[e._v(e._s(e.label))]),e._v(" "),e.conf.infoFile?n("span",{staticClass:"info-link icon",on:{click:e.showInfo}},[n("icon",{attrs:{name:"info-circle"}})],1):e._e(),e._v(" "),this.conf.times&&this.conf.times.length?n("span",{staticClass:"times-button icon",class:{active:e.showTimeMenu},on:{click:e.toggleTimeMenu}},[n("icon",{attrs:{name:"clock-o"}}),e._v(" "+e._s(e.selectedTime.humanReadable)+"\n    ")],1):e._e(),e._v(" "),e.hasStatistics?n("span",{staticClass:"icon statistics",attrs:{title:e.$t("item.statisticsAvailable")}},[n("icon",{attrs:{name:"bar-chart"}})],1):e._e(),e._v(" "),e.hasDataDownload?n("span",{staticClass:"icon datadownload info-link",attrs:{title:e.$t("item.downloadAvailable")},on:{click:e.showDownloads}},[n("icon",{attrs:{name:"download"}})],1):e._e(),e._v(" "),e.showTimeMenu?n("time-select",{attrs:{times:e.conf.times,selectedTime:e.selectedTime},on:{setTime:e.setTime}}):e._e(),e._v(" "),e.editing?[n("span",{staticClass:"icon",on:{click:function(t){return t.stopPropagation(),e.editItem(t)}}},[n("icon",{staticClass:"icon edit",attrs:{name:"pencil-square-o"}})],1),e._v(" "),n("span",{staticClass:"icon",on:{click:function(t){return t.stopPropagation(),e.deleteItem(t)}}},[n("icon",{staticClass:"icon edit",attrs:{name:"trash-o"}})],1)]:e._e(),e._v(" "),e.open?n("div",{staticStyle:{"padding-left":"21px"}},[n("icon",{attrs:{name:"adjust"}}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.opacity,expression:"opacity"}],staticClass:"slider",attrs:{type:"range",min:"0",max:"1",step:"0.01"},domProps:{value:e.opacity},on:{input:e.updateOpacity,__r:function(t){e.opacity=t.target.value}}})],1):e._e(),e._v(" "),e.conf.hasLegends&&e.active&&e.showLegend?[n("context-legend",{attrs:{conf:e.conf}})]:e._e()],2),e._v(" "),e.editing?[e.conf.isGroup?n("draggable",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}],staticStyle:{"min-height":"10px"},attrs:{element:"ul",options:{group:"items",draggable:".item",animation:150,handle:".handle"}},model:{value:e.list,callback:function(t){e.list=t},expression:"list"}},e._l(e.list,function(e){return n("item",{key:e.id,staticClass:"item unselectable",attrs:{conf:e}})}),1):e._e()]:[e.conf.isGroup?n("ul",{directives:[{name:"show",rawName:"v-show",value:e.open,expression:"open"}],staticStyle:{"min-height":"10px"}},e._l(e.list,function(e){return n("item",{key:e.id,staticClass:"item unselectable",attrs:{conf:e}})}),1):e._e()]],2)},staticRenderFns:[]}},639:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.show?n("modal",{on:{close:function(t){return e.hideUploadPopup()}}},[n("div",{attrs:{slot:"body"},slot:"body"},[n("div",{attrs:{id:"dropTarget"}},[n("span",{attrs:{id:"dropText"},domProps:{innerHTML:e._s(e.$t("fileDrop.dropKml"))}})])])]):e._e()},staticRenderFns:[]}},640:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("svg",{class:e.klass,style:e.style,attrs:{version:"1.1",role:e.label?"img":"presentation","aria-label":e.label,x:e.x,y:e.y,width:e.width,height:e.height,viewBox:e.box}},[e._t("default",[e.icon&&e.icon.paths?e._l(e.icon.paths,function(t,a){return n("path",e._b({key:"path-"+a},"path",t,!1))}):e._e(),e._v(" "),e.icon&&e.icon.polygons?e._l(e.icon.polygons,function(t,a){return n("polygon",e._b({key:"polygon-"+a},"polygon",t,!1))}):e._e(),e._v(" "),e.icon&&e.icon.raw?[n("g",{domProps:{innerHTML:e._s(e.raw)}})]:e._e()])],2)},staticRenderFns:[]}},641:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[n("modal",{attrs:{name:"stats-modal",draggable:!0,resizable:!0,minWidth:250,minHeight:220}},[n("div",{staticClass:"modal-container"},[n("h1",{staticClass:"modal-header"},[e._v(e._s(e.$t("featureInfo.info")))]),e._v(" "),n("iframe",{attrs:{width:"100%",height:"100%",src:e.statisticsUrl}})])]),e._v(" "),n("modal",{attrs:{name:"props-modal",draggable:!0,resizable:!0,minWidth:250,minHeight:220}},[n("div",{staticClass:"modal-container"},[n("h1",{staticClass:"modal-header"},[e._v(e._s(e.$t("featureInfo.attributes")))]),e._v(" "),n("div",{staticClass:"modal-body"},[n("table",e._l(e.popupAttributes,function(t){return n("tr",{key:t.id},[n("th",[e._v(e._s(t.label))]),e._v(" "),n("td",[e._v(e._s(t.value))])])}),0)])])]),e._v(" "),n("div",{staticClass:"ol-popup",attrs:{id:"popup"}},[n("a",{staticClass:"ol-popup-closer",attrs:{href:"#",id:"popup-closer"}}),e._v(" "),n("ul",{attrs:{id:"popup-content"}},[n("p",{staticClass:"caption"},[e._v(e._s(e.$t("featureInfo.moreData")))]),e._v(" "),e._l(e.statisticsConfs,function(t,a){return n("li",{key:a,staticClass:"statsLink",on:{click:function(n){return e.showStatistics(t,e.statisticsFeatures[a])}}},[e._v(e._s(e.statisticsLabels[a]))])})],2)])],1)},staticRenderFns:[]}},642:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.isMobile&&e.measure||!e.wfsSearchConfig||!e.wfsSearchConfig.layersToQuery?e._e():n("div",{attrs:{id:"search"}},[n("form",{on:{submit:function(t){return t.preventDefault(),e.noop(t)}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.searchText,expression:"searchText"}],attrs:{type:"text"},domProps:{value:e.searchText},on:{keyup:e.goSearching,input:function(t){t.target.composing||(e.searchText=t.target.value)}}}),e._v(" "),n("br"),n("br")]),e._v(" "),e.results.length?n("div",{staticClass:"columns",attrs:{id:"search-results"}},[n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){e.results=[]}}},[n("span",{attrs:{"aria-hidden":"true"}},[e._v("Ã")])]),e._v(" "),n("div",{staticClass:"column"},e._l(e.results,function(t){return n("search-results",e._b({key:t.id},"search-results",{result:t,clickHandler:e.clickHandler},!1))}),1)]):e._e()])},staticRenderFns:[]}},643:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{danger:e.user.authenticated},attrs:{id:"header"}},[n("img",{attrs:{id:"header-img",src:"/static/configuration/logos.png"}}),e._v(" "),n("div",{attrs:{id:"title"}},[e.isMobile?e._e():n("h1",{class:{hasSubtitle:e.$te("banner.subtitle")}},[e._v(e._s(e.$t("banner.title")))]),e._v(" "),!e.isMobile&&e.$te("banner.subtitle")?n("h2",[e._v(e._s(e.$t("banner.subtitle")))]):e._e(),e._v(" "),e.isMobile?n("div",{staticClass:"title-div",class:{hasSubtitle:e.$te("banner.subtitle")}},[e._v(e._s(e.$t("banner.title")))]):e._e(),e._v(" "),e.isMobile&&e.$te("banner.subtitle")?n("div",{staticClass:"subtitle-div"},[e._v(e._s(e.$t("banner.subtitle")))]):e._e()]),e._v(" "),n("div",{attrs:{id:"user-button"}},[n("div",{attrs:{id:"user-icon-container"},on:{click:e.toggleUserPanel}},[e.isMobile?n("icon",{staticClass:"user-icon",class:{"icon-active":e.showUserPanel},attrs:{name:"slms-user"}}):e._e()],1),e._v(" "),e.showUserPanel?n("div",{staticClass:"transparent-panel user-panel"},[n("p",[e._v(e._s(e.$t("banner.languages"))+":")]),e._v(" "),e._l(e.languages,function(t){return n("div",{key:t.id,on:{click:function(n){return e.setLanguage(t.id)}}},[n("icon",{attrs:{name:t.id===e.selectedLanguage?"dot-circle-o":"circle"}}),e._v(" "),n("span",[e._v(e._s(t.label))])],1)}),e._v(" "),n("div",{attrs:{id:"admin-button"},on:{click:e.adminButtonClick}},[n("icon",{attrs:{name:e.user.authenticated?"slms-logout":"slms-login"}}),e._v(" "),n("span",[e._v(e._s(e.user.authenticated?"Logout":"Admin"))])],1)],2):e._e()]),e._v(" "),!e.isMobile&&e.languages.length>1?n("ul",{staticClass:"buttons",attrs:{id:"languageLinks"}},e._l(e.languages,function(t){return n("li",{key:t.id},[t.id===e.selectedLanguage?n("span",{attrs:{href:"?lang="+t.id}},[e._v(e._s(t.label))]):n("a",{attrs:{href:"#"},on:{click:function(n){return e.setLanguage(t.id)}}},[e._v(e._s(t.label))])])}),0):e._e(),e._v(" "),e.isMobile?e._e():n("ul",{staticClass:"buttons",attrs:{id:"tools"}},[e.user.authenticated?n("li",[n("a",{attrs:{id:"logout-button",href:"#"},on:{click:e.logout}},[e._v("Logout")])]):n("li",[n("a",{attrs:{href:"#"},on:{click:function(t){return e.showLoginDialog(!0)}}},[e._v("Admin")])]),e._v(" "),n("li",[n("a",{attrs:{href:"#"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.enableFeedback(t)}}},[e._v(e._s(e.$t("banner.feedback")))])]),e._v(" "),n("li",[n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.enableUpload(t)}}},[e._v(e._s(e.$t("banner.uploadKml")))])]),e._v(" "),n("li",[n("a",{attrs:{href:"#"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.toggleMeasure(t)}}},[e._v(e._s(e.$t("banner.measure")))])]),e._v(" "),e.enablePrint?n("li",[n("a",{attrs:{href:"#"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.printMap(t)}}},[e._v("PDF")])]):e._e()])])},staticRenderFns:[]}},644:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hidden",attrs:{id:"measureOptions"}},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.toolTypeSelected,expression:"toolTypeSelected"}],staticClass:"hidden",attrs:{id:"measureToolType"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.toolTypeSelected=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"length"}},[e._v("Length (LineString)")]),e._v(" "),n("option",{attrs:{value:"area"}},[e._v("Area (Polygon)")])])])},staticRenderFns:[]}},647:function(e,t){e.exports={layout:"A4 portrait",srs:"EPSG:3857",units:"meters",geodetic:!0,outputFilename:"map",outputFormat:"pdf",layers:[{type:"WMS",layers:["unredd:provinces"],baseURL:"http://147.135.130.114/geoserver/wms?",format:"image/png"}],pages:[{mapTitle:"This is the title",center:[-8237642.319,4968191.93],scale:25e3,dpi:150,geodetic:!1,strictEpsg4326:!1}],legends:[{classes:[{icons:["http://www.rdc-snsf.org/portal/static/loc/en/images/ucl_2010.png"],name:""}],name:"a class name"}]}},648:function(e,t,n){n(321),e.exports=n(322)},77:function(e,t,n){"use strict";var a=n(97),i=n.n(a);t.a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return new i.a(function(i,o){var s=new XMLHttpRequest;s.open(e,t),a.forEach(function(e){s.setRequestHeader.apply(s,e)}),s.onreadystatechange=function(){4===this.readyState&&(this.status>=200&&this.status<300?i(this.responseText):o({status:this.status,statusText:this.responseText||"Error getting data from "+t}))},s.send(n)})}},79:function(e,t,n){"use strict";var a=n(97),i=n.n(a),o=n(123),s=n.n(o),r=n(77),c=n(30);n.n(c);t.a={user:{authenticated:!1},login:function(e,t){var a=this,o=c.layersConfigApi.baseUrl+c.layersConfigApi.loginUrl;return n.i(r.a)("POST",o,s()(e),[["Content-Type","application/json"]]).then(function(e){var t=JSON.parse(e);return localStorage.setItem("id_token",t.id_token),a.user.authenticated=!0,i.a.resolve(a.user)}).catch(function(e){return i.a.reject(e)})},logout:function(){localStorage.removeItem("id_token"),this.user.authenticated=!1},checkAuth:function(){var e=localStorage.getItem("id_token");this.user.authenticated=!!e},getAuthHeader:function(){return{Authorization:"Bearer "+localStorage.getItem("id_token")}},getAuthToken:function(){return"Bearer "+localStorage.getItem("id_token")}}},9:function(e,t,n){function a(e){n(470)}var i=n(11)(n(372),n(640),a,null,null);e.exports=i.exports}},[648]);
//# sourceMappingURL=app.fdeb1d2769def2d2dbcd.js.map